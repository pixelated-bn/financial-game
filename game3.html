<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CreditLit</title>

  <!-- Bootstrap and CSS -->
  <!--Link for connecting to bootstrap-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
    integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <!-- Boxicons CDN Link -->
  <link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet" />
  <!--Link to connect to font awesome-->
  <!--Link to connect to CSS-->
  <link rel="stylesheet" href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css'>
  <link rel="stylesheet" href="./css/style.css">

</head>

<body>


 <div class="container-fluid">
     <div class="row sticky-row" style="display: flex; align-items: center; gap: 10px;">
  <a href="index.html" style="text-decoration: none;" class="start-link">
    <img src="./img/creditlit.png" id="home">
  </a>

  <a href="#" data-toggle="modal" data-target="#info-game" class="start-link" style="display: flex; align-items: center;">
    <i class='bx bx-info-circle' id="info"></i>
  </a>
</div>

</div>


    <div class="modal fade" id="info-game" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg" role="document">

        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title text-center" id="exampleModalLongTitle">About Creditlit</h5>
            <a type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </a>
          </div>
          <div class="modal-body">
           <p>CreditLit is an interactive game designed to help you understand how credit scores work and why they matter.
Through realistic scenarios, you’ll learn how your financial decisions can impact your credit health and future opportunities.
<br><br>
This game is developed to raise awareness and empower individuals to make informed, responsible credit decisions. Whether you’re new to credit or just want a quick refresher, CreditLit is here to guide you - one smart choice at a time.</p>
         
          </div>
        </div>
      </div>
    </div>



    <div> <!--container fluid row-->


      <div class="col-sm-2 text-center visible-section" id="creditmeter">
        <aside style="padding-top: 30px;">
          <div class="text-center">
            <h5 id="cs-font">CREDIT<br>SCORE</h5>
            <div class="credit-score-container" style="position: relative; width: 50%; margin: 0 auto;"
              data-progress2="300">
              <img src="./img/creditscore.png" class="card-img-top creditscore-img">
              <div class="opacity-overlay"></div> <!-- New overlay div -->
              <img src="./img/creditarrow.png" class="card-img-top creditarrow-img">

              <span class="tooltip2">Credit Score</span>
            </div>
          </div>
        </aside>
      </div>


      <div class="col-sm-8 text-center" id="section"> <!-- col-sm-8 -->

        <section> <!--section-->




          <!--Scenario 3-->

          <div id="scenario3" class="visible-section">


            <h5 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text3">Your younger
              sibling, Adam needs help getting a car loan. His credit isn't strong - will you step in to support him?</h5>



            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>


            <div class="container">
              <div class="row">
                <div class="col-sm-4 hovertest" style="margin: 5px auto;">
                  <a href="#scene3-opt1" id="scene3-link1" style="text-decoration: none; color: #000000;">
                    <div class="card my-card2">

                      <img src="./img/cosign-yes.png" class="card-img-top"
                        style="width: 90%; height: auto; margin: 0 auto;">
                    </div>
                  </a>
                </div>

                <div class="col-sm-4 hovertest" style="margin: 5px auto;">
                  <a href="#scene3-opt2" id="scene3-link2" style="text-decoration: none; color: #000000;"
                    class="choice-card" data-happiness="48" data-connection="48">
                    <div class="card my-card2">

                      <img src="./img/cosign-no.png" class="card-img-top"
                        style="width: 90%; height: auto; margin: 0 auto;">
                    </div>
                  </a>
                </div>

              </div>
            </div>

          </div>


          <div id="scene3-opt1" class="hidden-section">


            <h5 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text2">Adam's missing payments and the loan's defaulted. Now the bank is calling you for the balance.</h5>


            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>

            <div>

              <div class="text-center" id="choices-div">
                <div id="choices-col">
                  <a href="#scene3a-1" id="scene3a-link1" class="choice-card" data-happiness="46" data-focus="45" data-connection="52"
                    data-credit-score="44">
                    Pay off full loan
                  </a>
                </div>
                <div id="choices-col">
                  <a href="#scene3a-2" id="scene3a-link2" class="choice-card" data-happiness="47" data-focus="46" data-connection="51"
                    data-credit-score="46">
                    Negotiate payment with bank
                  </a>
                </div>
              </div>

            </div>

          </div>


  <div id="scene3a-1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You cleared the debt to protect your family, but your credit and savings took a big hit.

                    <div class="text-center" id="info-button">
                      <a href="#scenario4" id="optlink9a" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

             <div id="scene3a-2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You negotiated with the bank to manage the damage - it's not ideal, but you stayed in control.

                    <div class="text-center" id="info-button">
                      <a href="#scenario4" id="optlink9b" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <div id="scene3-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    Learn the importance of setting boundaries when co-signing loans and make wiser financial decisions
                    in the future. Consult with a financial advisor to fully understand the risks. Your relationship
                    with your sibling although strained is repaired over time.

                    <div class="text-center" id="info-button">
                      <a href="#scenario4" id="optlink10" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <!--End of scenario 3-->


          <!--Scenario 4-->


          <div id="scenario4" class="hidden-section">


            <h4 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text2">A new credit card with rewards (0% APR for a year) is on the table.</h4>


            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>

            <div>

              <div class="text-center" id="choices-div">
                <div id="choices-col">
                  <a href="#scene4-opt1" id="scene4-link1" class="choice-card" data-happiness="49" data-focus="47" data-credit-score="48">
                    Open a new credit card for the rewards
                  </a>
                </div>
                <div id="choices-col">
                  <a href="#scene4-opt2" id="scene4-link2" class="choice-card" data-happiness="48">
                    Keep your current cards
                  </a>
                </div>
              </div>

            </div>

          </div>


          <div id="scene4-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                     You got the rewards and a higher credit limit - just be sure to use it wisely!

                    <div class="text-center" id="info-button">
                      <a href="#scenario5" id="optlink11" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene4-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You played it safe and stuck with your current card - no risks, no surprises.

                    <div class="text-center" id="info-button">
                      <a href="#scenario5" id="optlink12" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>



          <!--End of scenario 4-->


          <!--Scenario 5-->


          <div id="scenario5" class="text-center hidden-section">
            <video id="scenario-video2">
              <source src="./video/wedding.mp4" type="video/mp4">
            </video>

            <!-- Continue button (hidden initially) -->
            <div id="game2" class="text-center">
              <a href="#wedding-game" id="game-link2" class="game-button">continue</a>
            </div>
          </div>

          <script>
            document.addEventListener("DOMContentLoaded", function () {
              const video = document.getElementById("scenario-video2");
              const scenario5Div = document.getElementById("scenario5");
              const continueBtn = document.getElementById("game2");

              const observergame2 = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    video.play(); // Play video when div is visible

                    // Show button after 5 seconds
                    setTimeout(() => {
                      continueBtn.style.display = "block";
                    }, 5000);

                    // OR Show button when the video is about to finish
                    video.addEventListener("timeupdate", function () {
                      if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                        continueBtn.style.display = "block";
                      }
                    });
                  } else {
                    video.pause(); // Pause video when div is out of view (optional)
                    continueBtn.style.display = "none"; // Hide button again if video is not playing
                  }
                });
              }, { threshold: 0.5 }); // Adjust threshold for when the video should start

              observergame2.observe(scenario5Div);
            });
          </script>


          <div id="wedding-game" class="hidden-section">

            <!-- Add the audio element here -->
            <audio id="game-music2" loop>
              <source src="./audio/game-music-loop-7-145285.mp3" type="audio/mpeg">
              Your browser does not support the audio element.
            </audio>

            <audio id="drag-sound" src="./audio/sound-effect.mp3"></audio> <!-- Drag sound -->

         <div class="text-center" style="padding-top: 20px;">
              <h4 style="color: #206E63; font-weight: bold;" id="game-desc1">Find and match the pairs of your wedding items!</h4>
            </div>

             <div class="container-fluid" style="height: 100vh;" id="game2div">
              <div class="row h-100">
                <!-- Left large section -->
                <div class="col-8 d-flex align-items-center justify-content-center" id="wedding-box">
                  <div class="grid" id="grid">
                    <!-- Cards will be generated here -->
                  </div>
                </div>

                <!-- Right section -->
                <div class="col-4 d-flex flex-column p-0" id="wedd-box">
                
                  <div style="height: 10%;" class="timer-text-box d-flex align-items-center gap-2">
                    TIME:
                  </div>
                  <div style="height: 10%;" class="timer d-flex align-items-center gap-2">
                    <img src="./img/wedding/timer-colon.png" alt="Colon" class="colon">
                    <p id="seconds" class="mb-0">0</p>
                    <p id="secs" class="mb-0">s</p>
                  </div>

                  <div style="height: 10%;" class="score my-2 d-flex align-items-center gap-2">
                    SCORE:
                  </div>
                  <div id="wedding-score1">
                    0
                  </div>
                </div>
              </div>
            </div>

          </div>

          <div class="modal fade" id="weddingmodala" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
              <div class="modal-content">
                <div class="modal-body text-center">
                  <br>
                  <h3 style="font-weight: normal;">Hey, That was fun!</h3>
                  <br>
                  <a href="#game-credit2a" id="credit-link2a" class="game-button" data-dismiss="modal"
                    style="width: 20%; height: auto; margin: 0 auto;">continue</a>
                  <br> <br>
                </div>
              </div>
            </div>
          </div>

          <div class="modal fade" id="weddingmodalb" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
              <div class="modal-content">
                <div class="modal-body text-center">
                  <br>
                  <h3 style="font-weight: normal;">Hey, That was fun!</h3>
                  <br>
                  <a href="#game-credit2b" id="credit-link2b" class="game-button" data-dismiss="modal"
                    style="width: 20%; height: auto; margin: 0 auto;">continue</a>
                  <br> <br>
                </div>
              </div>
            </div>
          </div>


          <div id="game-credit2a" class="hidden-section">

            <div class="row">
              <div class="col-sm-12">
                <div class="info-container1 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    I’ve got everything I need for my modest wedding. Now, it’s time to start planning and making it all
                    come to life!

                    <div class="text-center" id="info-button">
                      <a href="#scene5a" id="scene5a-modest" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <div id="game-credit2b" class="hidden-section">

            <div class="row">
              <div class="col-sm-12">
                <div class="info-container1 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    I’ve got everything I need for my dream wedding. Now, it’s time to start planning and making it all
                    come to life!

                    <div class="text-center" id="info-button">
                      <a href="#scene5b" id="scene5b-dream" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <script>

            document.addEventListener('DOMContentLoaded', () => {
              const grid = document.getElementById('grid');
              const secondsDisplay = document.getElementById('seconds');
              const messageDisplay = document.getElementById('message');
              const weddingGameSection = document.getElementById('wedding-game'); // Get the wedding game section
              let cards = [];
              let flippedCards = [];
              let score = 0;
              let timeLeft = 30; // 30 seconds for testing, adjust for your actual timer (e.g., 600 for 10 minutes)
              let timerInterval;


              const dragSound2 = document.getElementById('drag-sound'); // Select the drag sound effect




              const scoreDisplays = document.querySelectorAll('#wedding-score1, #wedding-score2'); // All elements to show score

              // Update the score in both elements at the start
              scoreDisplays.forEach(display => {
                display.textContent = score;
              });

              // Function to start the timer
              function startTimer() {
                function updateTimer() {
                  // Calculate minutes and seconds
                  const minutes = Math.floor(timeLeft / 60);  // Get minutes
                  const seconds = timeLeft % 60;  // Get remaining seconds

                  // Display minutes and seconds (e.g., 10:00, 09:59, etc.)
                  secondsDisplay.textContent = `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;

                  if (timeLeft > 0) {
                    timeLeft--; // Decrease time by 1 second
                  } else {
                    clearInterval(timerInterval); // Stop the timer when it reaches 0
                    cards.forEach(card => card.removeEventListener('click', flipCard)); // Disable card clicks after time ends
                    checkScore(); // Call the checkScore function after time is up
                  }
                }

                // Start the interval to update the timer every second
                timerInterval = setInterval(updateTimer, 1000);
                updateTimer(); // Also call it once immediately to show the timer right away
              }

              // Set up IntersectionObserver to detect when the wedding game section is in view
              const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    startTimer(); // Start the timer when section is visible
                    observer.disconnect(); // Stop observing once the section is in view
                  }
                });
              }, { threshold: 0.5 }); // Trigger when at least 50% of the section is visible

              // Observe the wedding game section
              observer.observe(weddingGameSection);

              // Mapping card values to image names
              const imageMapping = {
                1: 'bride-attire.png',
                2: 'buffet.png',
                3: 'cake.png',
                4: 'calendar.png',
                5: 'groom-attire.png',
                6: 'invitation.png',
                7: 'photographer.png',
                8: 'ring.png'
              };

              // Generate card values (pairs)
              const cardValues = [];
              for (let i = 1; i <= 8; i++) {
                cardValues.push(i, i); // Create two of each card
              }
              cardValues.sort(() => 0.5 - Math.random()); // Shuffle the cards

              // Create card elements
              cardValues.forEach(value => {
                const card = document.createElement('div');
                card.classList.add('card-game');
                card.dataset.value = value;

                const img = document.createElement('img');
                img.src = `./img/wedding/${imageMapping[value]}`;
                img.style.display = 'none';
                card.appendChild(img);

                card.addEventListener('click', flipCard);
                grid.appendChild(card);
                cards.push(card);
              });

              // Function to check if all cards are matched
              function allCardsMatched() {
                return cards.every(card => card.classList.contains('hidden'));
              }

              // Flip card function
              function flipCard() {

                dragSound2.play(); // Play the drag sound effect

                if (flippedCards.length < 2 && !this.classList.contains('hidden') && !flippedCards.includes(this)) {
                  this.querySelector('img').style.display = 'block';
                  flippedCards.push(this);
                  if (flippedCards.length === 2) {
                    setTimeout(checkMatch, 500);
                  }
                }
              }

              // Check for match
              function checkMatch() {
                const [card1, card2] = flippedCards;
                if (card1.dataset.value === card2.dataset.value) {
                  card1.classList.add('hidden');
                  card2.classList.add('hidden');
                  score++; // Increment the score when there's a match
                  // Update score in both locations
                  scoreDisplays.forEach(display => {
                    display.textContent = score; // Update score in all displayed locations
                  });

                  // Check if all cards are matched
                  if (allCardsMatched()) {
                    clearInterval(timerInterval);
                    checkScore(); // If all cards are matched, stop the timer and check the score
                  }

                } else {
                  card1.querySelector('img').style.display = 'none';
                  card2.querySelector('img').style.display = 'none';
                }
                flippedCards = [];
              }

              // Check score and determine the option
              function checkScore() {
                if (score <= 4) {
                  //optionA();
                  const backgroundMusic2 = document.getElementById("game-music2");
                  fadeOutMusic(backgroundMusic2, 2000); // Fade out background music
                  showModal1(); // Show the completion modal
                } else if (score >= 5) {
                  // optionB();
                  const backgroundMusic2 = document.getElementById("game-music2");
                  fadeOutMusic(backgroundMusic2, 2000); // Fade out background music
                  showModal2(); // Show the completion modal
                }
                // Store score in localStorage
                localStorage.setItem('score', score);

              }

              function fadeOutMusic(audio, duration) {
                const fadeOutInterval = 50;
                const fadeOutSteps = duration / fadeOutInterval;
                let currentVolume = audio.volume;
                const volumeDecrement = currentVolume / fadeOutSteps;

                const fadeOut = setInterval(() => {
                  if (currentVolume > 0) {
                    currentVolume -= volumeDecrement;
                    audio.volume = Math.max(0, currentVolume);
                  } else {
                    clearInterval(fadeOut);
                    audio.pause();
                    audio.currentTime = 0;
                  }
                }, fadeOutInterval);
              }


              function showModal1() {
                const modal = new bootstrap.Modal(document.getElementById("weddingmodala"));
                modal.show();
              }

              function showModal2() {
                const modal = new bootstrap.Modal(document.getElementById("weddingmodalb"));
                modal.show();
              }

              // Option A function
              function optionA() {
                messageDisplay.innerHTML = '';

                const img = document.createElement('img');
                img.src = '../img/wedding/modest-wedding.png';
                img.alt = 'Go for modest wedding!';
                img.style.width = '35%';
                img.style.height = 'auto';
                img.style.position = 'absolute';
                img.style.bottom = '50%';
                img.style.right = '80%';
                img.style.transform = 'translate(-50%, -50%)';

                messageDisplay.style.position = 'relative';
                messageDisplay.appendChild(img);
              }

              // Option B function
              function optionB() {
                messageDisplay.innerHTML = '';

                const img = document.createElement('img');
                img.src = '../img/wedding/dream-wedding.png';
                img.alt = 'Go for dream wedding!';
                img.style.width = '35%';
                img.style.height = 'auto';
                img.style.position = 'absolute';
                img.style.bottom = '50%';
                img.style.right = '80%';
                img.style.transform = 'translate(-50%, -50%)';

                messageDisplay.style.position = 'relative';
                messageDisplay.appendChild(img);
              }
            });



            document.addEventListener("DOMContentLoaded", () => {
              const stickyRow = document.querySelector(".sticky-row");
              const targets2 = [document.querySelector("#scenario5"), document.querySelector("#wedding-game"), document.querySelector("#game-credit2a"), document.querySelector("#game-credit2b")];
              //const footer2 = document.querySelector("#footer");

              const observer2 = new IntersectionObserver(
                (entries) => {
                  let shouldHideStickyRow = false;
                  //let HideFooter = false;

                  // Check the visibility of each observed element
                  entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                      shouldHideStickyRow = true;
                      //HideFooter = true;
                    }
                  });

                  // Toggle the visibility of the sticky-row based on any intersecting element
                  if (shouldHideStickyRow) {
                    stickyRow.style.display = "none";
                    //footer2.style.display = "none";
                  } else {
                    stickyRow.style.display = "flex"; // Or your desired display value
                    //footer2.style.display = "block";
                  }
                },
                { threshold: 0.2 } // Adjust the visibility threshold as needed
              );

              // Observe each target element
              targets2.forEach((target) => {
                if (target) {
                  observer2.observe(target);
                }
              });
            });


          </script>


          <div id="scene5a" class="hidden-section">

            <div class="text-center" id="wedd-div">
              <img src="./img/modest-wedding.png" id="wedd-img">
            </div>


            <div class="text-center" id="choices-div">
              <div id="choices-col">
                <a href="#scene5a-opt1" id="scene5a-link1" class="choice-card" data-happiness="50" data-focus="49"
                  data-connection="54" data-credit-score="50">
                  Take the Loan
                </a>
              </div>
              <div id="choices-col">
                <a href="#scene5a-opt2" id="scene5a-link2" class="choice-card" data-happiness="46" data-focus="43"
                  data-connection="48" data-credit-score="42">
                  Increase the Loan Amount
                </a>
              </div>
              <div id="choices-col">
                <a href="#scene5a-opt3" id="scene5a-link3" class="choice-card" data-focus="48"
                  data-connection="53">
                  Postpone the Wedding
                </a>
              </div>
            </div>


          </div>


          <div id="scene5a-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    Wedding's on! Loan taken, credit boosted-but remember, debt comes with responsibility.

                    <div class="text-center" id="info-button">
                      <a href="#scenario6" id="opt-link38" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene5a-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    Bigger wedding, bigger debt.The excitement's real, but so is the financial pressure.

                    <div class="text-center" id="info-button">
                      <a href="#scenario6" id="opt-link39" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene5a-opt3" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                     No debt, no wedding-yet. You've put financial health first, setting up for future success.

                    <div class="text-center" id="info-button">
                      <a href="#scenario6" id="opt-link40" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>



          <div id="scene5b" class="hidden-section">

            <div class="text-center" id="wedd-div">
              <img src="./img/dream-wedding.png" id="wedd-img">
            </div>


            <div class="text-center" id="choices-div">
              <div id="choices-col">
                <a href="#scene5b-opt1" id="scene5b-link1" class="choice-card" data-happiness="51" data-focus="50"
                  data-connection="53" data-credit-score="38">
                  Take the Loan
                </a>
              </div>
              <div id="choices-col">
                <a href="#scene5b-opt2" id="scene5b-link2" class="choice-card" data-happiness="50" data-focus="49"
                  data-connection="54" data-credit-score="42">
                  Decrease the Loan Amount
                </a>
              </div>
              <div id="choices-col">
                <a href="#scene5b-opt3" id="scene5b-link3" class="choice-card" data-happiness="46" data-focus="48"
                  data-connection="50" data-credit-score="40">
                  Use a Credit Card
                </a>
              </div>
            </div>


          </div>


          <div id="scene5b-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    Dream wedding funded, but the hefty loan brings a lot of responsibility. The celebration's big, but so is the debt.

                    <div class="text-center" id="info-button">
                      <a href="#scenario6" id="opt-link41" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene5b-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                   You've decided to reduce the loan to a more manageable amount. The wedding is still grand, but your debt is more under control.

                    <div class="text-center" id="info-button">
                      <a href="#scenario6" id="opt-link42" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene5b-opt3" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    Wedding's still happening, but credit card debt adds extra risk.

                    <div class="text-center" id="info-button">
                      <a href="#scenario6" id="opt-link43" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <!--End of scenario 5-->


          <!--Scenario 6-->

          <div id="scenario6" class="hidden-section">


            <h5 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text">Uh-oh, your car just broke down! You need B$1,500 fast.</h5>



            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>

            <div class="container">
              <div class="row">
                <div class="col-sm-4 hovertest" style="margin: 5px auto;">
                  <a href="#scene6-opt1" id="scene6-link1" style="text-decoration: none; color: #000000;"
                    class="choice-card" data-happiness="44" data-focus="41" data-credit-score="34">
                    <div class="card my-card2">

                      <br>
                      <img src="./img/creditcard.png" class="card-img-top"
                        style="width: 80%; height: auto; margin: 0 auto;">
                    </div>
                  </a>
                </div>

                <div class="col-sm-4 hovertest" style="margin: 5px auto;">
                  <a href="#scene6-opt2" id="scene6-link2" style="text-decoration: none; color: #000000;"
                    class="choice-card" data-happiness="45" data-focus="41" data-credit-score="36">
                    <div class="card my-card2">

                      <br>
                      <img src="./img/financing.png" class="card-img-top"
                        style="width: 80%; height: auto; margin: 0 auto;">
                    </div>
                  </a>
                </div>

                <div class="col-sm-4 hovertest" style="margin: 5px auto;">
                  <a href="#scene6-opt3" id="scene6-link3" style="text-decoration: none; color: #000000;"
                    class="choice-card" data-happiness="53" data-credit-score="52">
                    <div class="card my-card2">

                      <br>
                      <img src="./img/saving.png" class="card-img-top"
                        style="width: 80%; height: auto; margin: 0 auto;">
                    </div>
                  </a>
                </div>

              </div>
            </div>

          </div>


          <div id="scene6-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You got the car fixed, but the large balance adds stress and debt risk.

                    <div class="text-center" id="info-button">
                      <a href="#scenario7" id="opt-link19" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene6-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You covered the cost in a structured way, but with interest and future payments to manage.

                    <div class="text-center" id="info-button">
                      <a href="#scenario7" id="opt-link20" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene6-opt3" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You handled the crisis calmly with no debt - smart move!

                    <div class="text-center" id="info-button">
                      <a href="#scenario7" id="opt-link21" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <!--End of scenario 6-->


          <!--Scenario 7-->

          <div id="scenario7" class="hidden-section">


            <h5 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text2">You're leveling up your credit, but your credit report shows errors!</h5>



            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>


            <div>

              <div class="text-center" id="choices-div">
                <div id="choices-col">
                  <a href="#scene7-opt1" id="scene7-link1" class="choice-card" data-happiness="41" data-focus="39" data-connection="49"
                    data-credit-score="32">
                    Ignore any errors or fraud
                  </a>
                </div>
                <div id="choices-col">
                  <a href="#scene7-opt2" id="scene7-link2" class="choice-card" data-happiness="55" data-focus="51" data-connection="55"
                    data-credit-score="55">
                    Immediately fix the errors
                  </a>
                </div>
              </div>

            </div>

          </div>


          <div id="scene7-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    The mistake continues hurting your credit, and you feel stuck and frustrated.

                    <div class="text-center" id="info-button">
                      <a href="#scenario8" id="opt-link30" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <div id="scene7-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You took charge and corrected the issue - credit improved, peace restored.

                    <div class="text-center" id="info-button">
                      <a href="#scenario8" id="opt-link31" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <!--End of scenario 7-->


          <!--Scenario 8-->


          <div id="scenario8" class="text-center hidden-section">
            <video id="scenario-video1">
              <source src="./video/travel.mp4" type="video/mp4">
            </video>

            <!-- Continue button (hidden initially) -->
            <div id="game1" class="text-center">
              <a href="#vacation-game" id="game-link1" class="game-button">continue</a>
            </div>
          </div>

          <script>
            document.addEventListener("DOMContentLoaded", function () {
              const video = document.getElementById("scenario-video1");
              const scenario8Div = document.getElementById("scenario8");
              const continueBtn = document.getElementById("game1");

              const observergame1 = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    video.play(); // Play video when div is visible

                    // Show button after 5 seconds
                    setTimeout(() => {
                      continueBtn.style.display = "block";
                    }, 4000);

                    // OR Show button when the video is about to finish
                    video.addEventListener("timeupdate", function () {
                      if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                        continueBtn.style.display = "block";
                      }
                    });
                  } else {
                    video.pause(); // Pause video when div is out of view (optional)
                    continueBtn.style.display = "none"; // Hide button again if video is not playing
                  }
                });
              }, { threshold: 0.5 }); // Adjust threshold for when the video should start

              observergame1.observe(scenario8Div);
            });
          </script>



          <div id="vacation-game" class="hidden-section">

            <!-- Add the audio element here -->
            <audio id="game-music" loop>
              <source src="./audio/game-music-loop-7-145285.mp3" type="audio/mpeg">
              Your browser does not support the audio element.
            </audio>



            <audio id="drag-sound" src="./audio/sound-effect.mp3"></audio> <!-- Drag sound -->
            <audio id="drop-sound" src="./audio/sound-effect.mp3"></audio> <!-- Drop sound -->



            <div class="container" id="vacation">
          <h4 style="color: #206E63; font-weight: bold;" id="game-desc1">Match the monument with the correct country!</h4>
              <br>
              <div class="row" id="vacay-row">
                <div class="col-sm-3" id="vacay-box">
                  <div class="item-box">
                    <img src="./img/landmark/italy.png" class="monument">
                    <div id="location1" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                    </div>
                  </div>
                </div>
                <div class="col-sm-3" id="vacay-box">
                  <div class="item-box">
                    <img src="./img/landmark/dubai.png" class="monument">
                    <div id="location2" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                    </div>
                  </div>
                </div>
                <div class="col-sm-3" id="vacay-box">
                  <div class="item-box">
                    <img src="./img/landmark/france.png" class="monument">
                    <div id="location3" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                    </div>
                  </div>
                </div>
                <div class="col-sm-3" id="vacay-box">
                  <div class="item-box">
                    <img src="./img/landmark/singapore.png" class="monument">
                    <div id="location4" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row" id="vacay-row">
                <div class="col-sm-4" id="vacay-box">
                  <div class="item-box">
                    <div class="japan1">
                      <img src="./img/landmark/japan.png" class="monument">
                    </div>
                    <div id="location5" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                    </div>
                  </div>
                </div>
                <div class="col-sm-4" id="vacay-box">
                  <div class="item-box">
                    <img src="./img/landmark/india.png" class="monument">
                    <div id="location6" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                    </div>
                  </div>
                </div>
                 <div class="col-sm-4" id="vacay-box">
                  <div class="item-box">
                    <div class="egypt1">
                      <img src="./img/landmark/egypt.png" class="monument">
                      </div>
                      <div id="location7" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                    </div>
                  </div>
                </div>
              </div>
            </div>



            <div id="title-items" class="name-group" ondrop="drop(event)" ondragover="allowDrop(event)">
              <img src="./img/landmark/france-title.png" draggable="true" ondragstart="drag(event)" id="drag3"
                class="imgs france">
              <img src="./img/landmark/italy-title.png" draggable="true" ondragstart="drag(event)" id="drag5"
                class="imgs italy">
              <img src="./img/landmark/india-title.png" draggable="true" ondragstart="drag(event)" id="drag6"
                class="imgs india">
              <img src="./img/landmark/egypt-title.png" draggable="true" ondragstart="drag(event)" id="drag7"
                class="imgs egypt">
              <br>
              <img src="./img/landmark/japan-title.png" draggable="true" ondragstart="drag(event)" id="drag2"
                class="imgs japan">
              <img src="./img/landmark/singapore-title.png" draggable="true" ondragstart="drag(event)" id="drag9"
                class="imgs singapore">
              <img src="./img/landmark/dubai-title.png" draggable="true" ondragstart="drag(event)" id="drag11"
                class="imgs dubai">
            </div>

          </div>


          <div class="modal fade" id="gamemodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
              <div class="modal-content">
                <div class="modal-body text-center">
                  <br>
                  <h3 style="font-weight: normal;">Well Done! You did great!</h3>
                  <br>
                  <a href="#game-credit1" id="credit-link1" class="game-button" data-dismiss="modal">continue</a>
                  <br> <br>
                </div>
              </div>
            </div>
          </div>


          <div id="game-credit1" class="hidden-section">

            <div class="row">
              <div class="col-sm-12">
                <div class="info-container1 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                   Big trip ahead! Pack smart, fund up and get ready for epic memories!

                    <div class="text-center" id="info-button">
                      <a href="#scene8a" id="scene8alink" class="game-button" data-happiness="85" data-focus="70"
                        data-connection="85" data-credit-score="3">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>



          <script>
            document.addEventListener("DOMContentLoaded", () => {
                  const stickyRow = document.querySelector(".sticky-row");
              //const footer = document.querySelector("#footer");
              const targets = [document.querySelector("#scenario8"), document.querySelector("#vacation-game"), document.querySelector("#game-credit1")];

              const observer1 = new IntersectionObserver(
                (entries) => {
                  let shouldHideStickyRow = false;
                  //let HideFooter = false;

                  // Check the visibility of each observed element
                  entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                      shouldHideStickyRow = true;
                      //HideFooter = true;
                    }
                  });

                  // Toggle the visibility of the sticky-row based on any intersecting element
                  if (shouldHideStickyRow) {
                    stickyRow.style.display = "none";
                    //footer.style.display = "none";
                  } else {
                    stickyRow.style.display = "flex"; // Or your desired display value
                    //footer.style.display = "block";
                  }
                },
                { threshold: 0.2 } // Adjust the visibility threshold as needed
              );

              // Observe each target element
              targets.forEach((target) => {
                if (target) {
                  observer1.observe(target);
                }
              });
            });


          </script>


          <div id="scene8a" class="hidden-section">


            <h4 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text2">Chasing credit card rewards? More points, more perks - and extra flexibility for your trip!</h4>



            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>

            <div>

              <div class="text-center" id="choices-div">
                <div id="choices-col">
                  <a href="#scene8a-opt1" id="scene8a-link1" class="choice-card" data-happiness="57" data-focus="36"
                    data-connection="48" data-credit-score="30">
                    Enjoy the trip - the bills can wait
                  </a>
                </div>
                <div id="choices-col">
                  <a href="#scene8a-opt2" id="scene8a-link2" class="choice-card" data-happiness="40" data-focus="53"
                    data-connection="56" data-credit-score="57">
                    Tighten the belt and cut back
                  </a>
                </div>
              </div>

            </div>

          </div>


          <div id="scene8a-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You lived it up, but overspending may cost you more than money.

                    <div class="text-center" id="info-button">
                      <a href="#scenario9" id="optlink14" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene8a-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You stayed within budget - maybe not as flashy, but future you is grateful.

                    <div class="text-center" id="info-button">
                      <a href="#scenario9" id="optlink15" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <!--End of Scenario 8-->


          <!--Scenario 9-->


          <div id="scenario9" class="text-center hidden-section">
            <video id="scenario-video3">
              <source src="./video/business.mp4" type="video/mp4">
            </video>

            <!-- Continue button (hidden initially) -->
            <div id="game3" class="text-center">
              <a href="#business-game" id="game-link3" class="game-button">continue</a>
            </div>
          </div>

          <script>
            document.addEventListener("DOMContentLoaded", function () {
              const video = document.getElementById("scenario-video3");
              const scenario9Div = document.getElementById("scenario9");
              const continueBtn = document.getElementById("game3");

              const observergame3 = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    video.play(); // Play video when div is visible

                    // Show button after 5 seconds
                    setTimeout(() => {
                      continueBtn.style.display = "block";
                    }, 5000);

                    // OR Show button when the video is about to finish
                    video.addEventListener("timeupdate", function () {
                      if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                        continueBtn.style.display = "block";
                      }
                    });
                  } else {
                    video.pause(); // Pause video when div is out of view (optional)
                    continueBtn.style.display = "none"; // Hide button again if video is not playing
                  }
                });
              }, { threshold: 0.5 }); // Adjust threshold for when the video should start

              observergame3.observe(scenario9Div);
            });
          </script>



          <div id="business-game" class="hidden-section">

            <!-- Add the audio element here -->
            <audio id="game-music3" loop>
              <source src="./audio/game-music-loop-7-145285.mp3" type="audio/mpeg">
              Your browser does not support the audio element.
            </audio>

            <div class="text-center" style="padding-top: 20px;">

              <h4 class="text-center" style="font-weight: bold; color: #206E63;" id="game-desc1">
                Choose 5 trendy businesses to explore and find the one matches your passion, skills and what you think
                the market needs.
                Let's see which business is your perfect fit.
              </h4>
            </div>
            <div class="text-center">

              <audio id="click-sound" src="./audio/sound-effect.mp3" preload="auto"></audio>

              <table>
                <tbody>
                  <tr>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (1).png" alt="Box" data-item1="1" onclick="checkItem1(1)">
                      <span class="tooltip-text">Burger</span>
                    </td>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (2).png" alt="Box" data-item1="2" onclick="checkItem1(2)">
                      <span class="tooltip-text">Homemade Desserts</span>
                    </td>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (3).png" alt="Box" data-item1="3" onclick="checkItem1(3)">
                      <span class="tooltip-text">Nasi Katok</span>
                    </td>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (4).png" alt="Box" data-item1="4" onclick="checkItem1(4)">
                      <span class="tooltip-text">Night Market Grills</span>
                    </td>
                  </tr>

                  <tr>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (5).png" alt="Box" data-item1="5" onclick="checkItem1(5)">
                      <span class="tooltip-text">Pizza</span>
                    </td>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (6).png" alt="Box" data-item1="6" onclick="checkItem1(6)">
                      <span class="tooltip-text">Coffee Cafe</span>
                    </td>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (7).png" alt="Box" data-item1="7" onclick="checkItem1(7)">
                      <span class="tooltip-text">Runner Deliveries</span>
                    </td>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (8).png" alt="Box" data-item1="8" onclick="checkItem1(8)">
                      <span class="tooltip-text">Photography</span>
                    </td>
                  </tr>
                  <tr>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (9).png" alt="Box" data-item1="9" onclick="checkItem1(9)">
                      <span class="tooltip-text">Art</span>
                    </td>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (10).png" alt="Box" data-item1="10" onclick="checkItem1(10)">
                      <span class="tooltip-text">Night Market Drinks</span>
                    </td>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (11).png" alt="Box" data-item1="11" onclick="checkItem1(11)">
                      <span class="tooltip-text">Jewellery crafts</span>
                    </td>
                    <td class="tooltip-container">
                      <img src="./img/business-game/before (12).png" alt="Box" data-item1="12" onclick="checkItem1(12)">
                      <span class="tooltip-text">Tudong Hijab</span>
                    </td>
                  </tr>
                </tbody>
              </table>

            </div>

          </div>
          <div class="modal fade" id="gameresult" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
              <div class="modal-content">
                <div class="modal-body text-center">
                  <br>
                  <h3 style="font-weight: normal;">Well Done! Good Choice!</h3>
                  <br>
                  <a href="#game-credit3" id="credit-link3" class="game-button" data-dismiss="modal">continue</a>
                  <br> <br>
                </div>
              </div>
            </div>
          </div>


          <div id="game-credit3" class="hidden-section">

            <div class="row">
              <div class="col-sm-12">
                <div class="info-container1 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">


                    You've found the right business for you - it fits your passion, skills and what people need. Ready for the next step?


                    <div class="text-center" id="info-button">
                      <a href="#scene9a" id="scene9alink" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <script>
            document.addEventListener("DOMContentLoaded", () => {
               const stickyRow = document.querySelector(".sticky-row");
              const targets3 = [document.querySelector("#scenario9"), document.querySelector("#business-game"), document.querySelector("#game-credit3")];
              //const footer3 = document.querySelector("#footer");

              const observer3 = new IntersectionObserver(
                (entries) => {
                  let shouldHideStickyRow = false;
                  //let HideFooter = false;

                  // Check the visibility of each observed element
                  entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                      shouldHideStickyRow = true;
                      //HideFooter = true;
                    }
                  });

                  // Toggle the visibility of the sticky-row based on any intersecting element
                  if (shouldHideStickyRow) {
                    stickyRow.style.display = "none";
                    //footer3.style.display = "none";
                  } else {
                    stickyRow.style.display = "flex"; // Or your desired display value
                    //footer3.style.display = "block";
                  }
                },
                { threshold: 0.2 } // Adjust the visibility threshold as needed
              );

              // Observe each target element
              targets3.forEach((target) => {
                if (target) {
                  observer3.observe(target);
                }
              });
            });


          </script>


          <div id="scene9a" class="hidden-section">


            <h4 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text">You're getting things rolling, but you need extra funds for rent, equipment and your team.</h4>


            <h1 class="text-center" style="font-weight:bold;">How would you fund your business?</h1>



            <div style="display: flex; flex-direction: column; align-items: center; gap: 5px;">
              <!-- First row -->
              <div class="text-center" style="display: flex; gap: 100px;">
                <a href="#scene9a-opt1" id="scene9a-link1" class="choice-card" data-happiness="58" data-focus="56" data-credit-score="58">
                  <div class="fund1">
                  </div>
                </a>
                <a href="#scene9a-opt2" id="scene9a-link2" class="choice-card" data-happiness="39" data-focus="55"
                  data-credit-score="29">
                  <div class="fund2">
                  </div>
                </a>
              </div>
              <!-- Second row -->
              <div class="text-center" style="display: flex; gap: 100px;">

                <a href="#scene9a-opt3" id="scene9a-link3" class="choice-card" data-happiness="58" data-focus="55"
                  data-connection="46">
                  <div class="fund3">
                  </div>
                </a>
                <a href="#scene9a-opt4" id="scene9a-link4" class="choice-card" data-happiness="58" data-focus="55" data-credit-score="59">
                  <div class="fund4">
                  </div>
                </a>
              </div>
            </div>


          </div>



          <div id="scene9a-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You used your own money - no debt, full control and strong foundation.

                    <div class="text-center" id="info-button">
                      <a href="#scenario10" id="opt-link24" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene9a-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    You got the funds, but it adds pressure and personal liability.

                    <div class="text-center" id="info-button">
                      <a href="#scenario10" id="opt-link25" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene9a-opt3" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                   It helped, but strained some relationships with blurred money lines.

                    <div class="text-center" id="info-button">
                      <a href="#scenario10" id="opt-link26" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene9a-opt4" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    Smart funding with risk - but it keeps your personal finances separate.

                    <div class="text-center" id="info-button">
                      <a href="#scenario10" id="opt-link27" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <!--End of scenario 9-->


          <!--Scenario 10-->

          <div id="scenario10" class="hidden-section">


            <div class="text-center" id="email-div">
              <a href="" id="" data-toggle="modal" data-target="#exampleModal">
                <img src="./img/notification.png" class="card-img-top" style="width: 26%; height: auto; margin: 0 auto;"
                  id="email-img">
              </a>
            </div>


          </div>


          <!-- Modal -->
          <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg" role="document">
              <div class="modal-content" id="open-email" style="background-color: transparent; border: none;">
                <div class="modal-body">

                  <div class="container">
                    <div class="row">
                      <div id="accept-email">

                        <a href="#scene10" id="scene10link" class="accept-button" data-dismiss="modal">continue</a>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>


          <div id="scene10" class="hidden-section">


            <h4 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text2">Your phone bill's due every month. It's up to you when and how to pay - choose wisely!</h4>


            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>


            <div>

              <div class="text-center" id="choices-div">
                <div id="choices-col">
                  <a href="#scene10-opt1" id="scene10-link1" class="choice-card" data-happiness="59" data-focus="57" data-credit-score="61">
                    Settle bills on-time
                  </a>
                </div>
                <div id="choices-col">
                  <a href="#scene10-opt2" id="scene10-link2" class="choice-card" data-happiness="37" data-focus="53" data-connection="45" data-credit-score="27">
                    Ignore the bills for now
                  </a>
                </div>
              </div>

            </div>


          </div>


          <div id="scene10-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                     You paid on time - it's one less worry and a step toward stability.

                    <div class="text-center" id="info-button">
                      <a href="#scene10tips" id="opt-link28" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene10-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                     Unpaid bills snowball - you feel overwhelmed, and others may notice.

                    <div class="text-center" id="info-button">
                      <a href="#scene10tips" id="opt-link29" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene10tips" class="text-center hidden-section">
            <video id="tips10-info">
              <source src="./video/10tips.mp4" type="video/mp4">
            </video>

            <!-- Continue button (hidden initially) -->
            <div id="tips10" class="text-center">
              <a href="#scenario11" id="tip10-link" class="game-button">continue</a>
            </div>
          </div>

          <script>
            document.addEventListener("DOMContentLoaded", function () {
              const video = document.getElementById("tips10-info");
              const scenario10Div = document.getElementById("scene10tips");
              const continueBtn = document.getElementById("tips10");

              const observer_tip1 = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    video.play(); // Play video when div is visible

                    // Show button after 5 seconds
                    setTimeout(() => {
                      continueBtn.style.display = "block";
                    }, 4000);

                    // OR Show button when the video is about to finish
                    video.addEventListener("timeupdate", function () {
                      if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                        continueBtn.style.display = "block";
                      }
                    });
                  } else {
                    video.pause(); // Pause video when div is out of view (optional)
                    continueBtn.style.display = "none"; // Hide button again if video is not playing
                  }
                });
              }, { threshold: 0.5 }); // Adjust threshold for when the video should start

              observer_tip1.observe(scenario10Div);
            });
          </script>

          <script>
            document.addEventListener("DOMContentLoaded", () => {
              const stickyRow = document.querySelector(".sticky-row");
              //const footer = document.querySelector("#footer");
              const targets = [document.querySelector("#scene10tips")];

              const tip_observer1 = new IntersectionObserver(
                (entries) => {
                  let shouldHideStickyRow = false;
                  //let HideFooter = false;

                  // Check the visibility of each observed element
                  entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                      shouldHideStickyRow = true;
                      //HideFooter = true;
                    }
                  });

                  // Toggle the visibility of the sticky-row based on any intersecting element
                  if (shouldHideStickyRow) {
                    stickyRow.style.display = "none";
                    //footer.style.display = "none";
                  } else {
                    stickyRow.style.display = "flex"; // Or your desired display value
                    //footer.style.display = "block";
                  }
                },
                { threshold: 0.2 } // Adjust the visibility threshold as needed
              );

              // Observe each target element
              targets.forEach((target) => {
                if (target) {
                  tip_observer1.observe(target);
                }
              });
            });


          </script>



          <!--End of scenario 10-->


          <!--Scenario 11-->

                    <div id="scenario11" class="hidden-section">


 <div class="main-display" id="mainDisplay">
  <img id="mainImage" src="" alt="Preview" />
</div>

  <div class="thumbnails" id="thumbnailContainer">
    <a href="#scene11-opt1" id="scene11-link1" class="choice-card" data-happiness="60" data-focus="58" data-credit-score="25"><img src="./img/Terrace_icon.png" data-detail="" data-bg="./img/Terrace.png" /></a>

    <a href="#scene11-opt2" id="scene11-link2" class="choice-card" data-happiness="61" data-focus="59"
                data-connection="57" data-credit-score="23"><img src="./img/Semi-Detached_icon.png" data-detail="" data-bg="./img/Semi-Detached.png" /></a>

    <a href="#scene11-opt3" id="scene11-link3" class="choice-card" data-happiness="62" data-focus="60" data-connection="58" data-credit-score="21"><img src="./img/Detached_icon.png" data-detail="" data-bg="./img/Detached.png" /></a>

    <a href="#scene11-opt4" id="scene11-link4" class="choice-card" data-focus="44" data-credit-score="62"><img src="./img/Apartment_icon.png" data-detail="" data-bg="./img/Apartment.png" /></a>

  </div>

  <div class="slider-container2">
    <div class="slider-track"></div>
    <div class="slider-thumb" id="customThumb"></div>
    <input type="range" min="0" max="3" value="0" step="1" id="slider" />
  </div>


                

          </div>


       <script>
  const mainImage = document.getElementById('mainImage');
  const mainDisplay = document.getElementById('mainDisplay');
  const thumbnails = document.querySelectorAll('#thumbnailContainer img');
  const slider = document.getElementById('slider');
  const customThumb = document.getElementById('customThumb');
  const track = document.querySelector('.slider-track');

  let currentIndex = 0; // Track currently selected index

  const updateDisplay = (index) => {
    const selected = thumbnails[index];
    if (!selected) return;

    mainDisplay.classList.add('fade');

    setTimeout(() => {
      mainImage.src = selected.dataset.bg || '';
      mainImage.alt = selected.alt || 'Preview';

      mainDisplay.textContent = '';
      mainDisplay.appendChild(mainImage);

      thumbnails.forEach((img, i) => {
        img.classList.toggle('active', i === index);
      });

      mainDisplay.classList.remove('fade');
    }, 300);
  };

const updateThumbPosition = (index) => {
  const total = thumbnails.length;
  const trackWidth = track.offsetWidth;

  const thumbWidth = customThumb.offsetWidth;
  const maxLeft = trackWidth - thumbWidth;

  const spacing = maxLeft / (total - 1);
  const leftPos = spacing * index;

  customThumb.style.left = `${leftPos}px`;
};


  // Initial setup
  updateDisplay(currentIndex);
  updateThumbPosition(currentIndex);

  // Slider change (input event handles mouse & touch)
  slider.addEventListener('input', () => {
    const index = parseInt(slider.value, 10);
    currentIndex = index;
    updateDisplay(index);
    updateThumbPosition(index);
  });

  // Thumbnail click/tap
  thumbnails.forEach((img, index) => {
    img.addEventListener('pointerdown', () => {
      currentIndex = index;
      slider.value = index;
      updateDisplay(index);
      updateThumbPosition(index);
    });
  });

  // Recalculate thumb position on window resize
  window.addEventListener('resize', () => {
    updateThumbPosition(currentIndex);
  });
</script>


 <div id="scene11-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                   Practical and affordable. You're making strong, sensible choices that protect your future.

                    <div class="text-center" id="info-button">
                      <a href="#scenario12" id="opt-link16" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene11-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    A smart middle-ground. You've got enough space to grow without maxing out your budget.

                    <div class="text-center" id="info-button">
                      <a href="#scenario12" id="opt-link17" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene11-opt3" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    
                   Big dreams come with big bills. Your home is everything you hoped for - but make sure your finances can keep up.

                    <div class="text-center" id="info-button">
                      <a href="#scenario12" id="opt-link18" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          
          <div id="scene11-opt4" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                 You chose affordability and simplicity. It's a financial win - even if it means a tighter living space.

                    <div class="text-center" id="info-button">
                      <a href="#scenario12" id="opt-link44" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <!--End of scenario 11-->


          <!--Scenario 12-->

          <div id="scenario12" class="hidden-section">


            <h4 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text2">Good news! You can bump up your credit card limit.</h4>


            <h1 class="text-center" style="font-weight:bold;">How will you use this opportunity?</h1>

            <div>

              <br>

              <a href="#scene12-opt1" id="scene12-link1" class="choice-card" data-happiness="63" data-focus="61" data-credit-score="64"
                style="text-decoration: none; color: #000000;">
                <div class="card limit1">
                  <img src="./img/limit-green1.png" class="card-img-top"
                    style="width: 100%; height: auto; margin: 0 auto;">
                </div>
              </a>
              <br>
              <a href="#scene12-opt2" id="scene12-link2" class="choice-card" data-happiness="63"
                style="text-decoration: none; color: #000000;">
                <div class="card limit2">
                  <img src="./img/limit-green2.png" class="card-img-top"
                    style="width: 100%; height: auto; margin: 0 auto;">
                </div>
              </a>
            </div>

          </div>


          <div id="scene12-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                  A higher limit improves your credit utilization - just spend wisely!

                    <div class="text-center" id="info-button">
                      <a href="#scenario13" id="opt-link22" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene12-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                   You chose control over temptation - your habits remain steady.

                    <div class="text-center" id="info-button">
                      <a href="#scenario13" id="opt-link23" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <!--End of scenario 12-->


          <!--Scenario 13-->

          <div id="scenario13" class="hidden-section">


            <h5 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text4">You've applied for a bunch of loans and cards lately.</h5>



            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>


            <div>

              <div class="text-center" id="choices-div">
                <div id="choices-col">
                  <a href="#scene13-opt1" id="scene13-link1" class="choice-card" data-happiness="64" data-focus="62">
                    Inquire about your pending applications
                  </a>
                </div>
                <div id="choices-col">
                  <a href="#scene13-opt2" id="scene13-link2" class="choice-card" data-credit-score="65">
                    Cancel some pending applications
                  </a>
                </div>
                <div id="choices-col">
                  <a href="#scene13-opt3" id="scene13-link3" class="choice-card" data-happiness="62" data-connection="43"
                    data-credit-score="20">
                    Wait for pending decisions
                    to be finalised
                  </a>
                </div>
              </div>

            </div>


          </div>


          <div id="scene13-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                   You asked for clarity - it won't affect your score, but gives peace of mind.

                    <div class="text-center" id="info-button">
                      <a href="#scene13tips" id="opt-link32" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <div id="scene13-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                     You cut back early, which may reduce future score damage.

                    <div class="text-center" style="padding-top: 60px;">
                      <a href="#scene13tips" id="opt-link33" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <div id="scene13-opt3" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    Uncertainty weighs on you - and multiple hits may still impact your credit.

                    <div class="text-center" id="info-button">
                      <a href="#scene13tips" id="opt-link34" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>


          <div id="scene13tips" class="text-center hidden-section">
            <video id="tips13-info">
              <source src="./video/13tips.mp4" type="video/mp4">
            </video>

            <!-- Continue button (hidden initially) -->
            <div id="tips13" class="text-center">
              <a href="#scenario14" id="tip13-link" class="game-button">continue</a>
            </div>
          </div>


          <script>
            document.addEventListener("DOMContentLoaded", function () {
              const video = document.getElementById("tips13-info");
              const scenario13Div = document.getElementById("scene13tips");
              const continueBtn = document.getElementById("tips13");

              const observer_tip2 = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    video.play(); // Play video when div is visible

                    // Show button after 5 seconds
                    setTimeout(() => {
                      continueBtn.style.display = "block";
                    }, 4000);

                    // OR Show button when the video is about to finish
                    video.addEventListener("timeupdate", function () {
                      if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                        continueBtn.style.display = "block";
                      }
                    });
                  } else {
                    video.pause(); // Pause video when div is out of view (optional)
                    continueBtn.style.display = "none"; // Hide button again if video is not playing
                  }
                });
              }, { threshold: 0.5 }); // Adjust threshold for when the video should start

              observer_tip2.observe(scenario13Div);
            });
          </script>

          <script>
            document.addEventListener("DOMContentLoaded", () => {
              const stickyRow = document.querySelector(".sticky-row");
              //const footer = document.querySelector("#footer");
              const targets = [document.querySelector("#scene13tips")];

              const tip_observer2 = new IntersectionObserver(
                (entries) => {
                  let shouldHideStickyRow = false;
                  //let HideFooter = false;

                  // Check the visibility of each observed element
                  entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                      shouldHideStickyRow = true;
                      //HideFooter = true;
                    }
                  });

                  // Toggle the visibility of the sticky-row based on any intersecting element
                  if (shouldHideStickyRow) {
                    stickyRow.style.display = "none";
                    //footer.style.display = "none";
                  } else {
                    stickyRow.style.display = "flex"; // Or your desired display value
                    //footer.style.display = "block";
                  }
                },
                { threshold: 0.2 } // Adjust the visibility threshold as needed
              );

              // Observe each target element
              targets.forEach((target) => {
                if (target) {
                  tip_observer2.observe(target);
                }
              });
            });


          </script>



          <!--End of scenario 13-->


          <!--Scenario 14-->

          <div id="scenario14" class="hidden-section">


            <div class="phone-call">
              <div class="text-center" id="phone-button">
                <a href="#info1" id="phone-link2">
                  <img src="./img/answer.png" class="card-img-top" id="phonebtn">
                </a>
              </div>
            </div>

          </div>

          <!-- Audio Element -->


          <audio id="phone-sound" src="./audio/telephone-ring-old-german-w48-83246.mp3" preload="auto"></audio>

          <audio id="phone-sound2" src="./audio/creditcall.mp3" preload="auto"></audio>


          <script>
            document.addEventListener('DOMContentLoaded', function () {
              let observer5 = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    var audio = document.getElementById('phone-sound');
                    if (audio) {
                      audio.play();
                    }
                    observer5.unobserve(entry.target);
                  }
                });
              }, { threshold: 0.1 });

              let target5 = document.getElementById('scenario14');
              if (target5) {
                observer5.observe(target5);
              }
            });

            document.addEventListener('DOMContentLoaded', function () {
              let observer6 = new IntersectionObserver(
                entries => {
                  entries.forEach(entry => {
                    if (entry.isIntersecting) {
                      var audio = document.getElementById('phone-sound2');
                      if (audio) {
                        setTimeout(() => {
                          audio.play();
                        }, 500); // Delay the playback by 700ms (0.7 seconds)
                      }
                      observer6.unobserve(entry.target);
                    }
                  });
                },
                { threshold: 0.1 }
              );

              let target6 = document.getElementById('info1');
              if (target6) {
                observer6.observe(target6);
              }
            });

          </script>



          <div id="info1" class="hidden-section">

            <div id="call-convo">

              <img src="./img/phone-convo.png" class="phone-img">

            </div>

            <br>

            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>


            <div>

              <div class="text-center" id="choices-div">
                <div id="choices-col">
                  <a href="#answer1" id="phone-link3" class="choice-card" data-happiness="66" data-focus="65" data-connection="60"
                    data-credit-score="67">
                    Negotiate a payment plan
                  </a>
                </div>
                <div id="choices-col">
                  <a href="#answer2" id="phone-link4" class="choice-card" data-happiness="60" data-focus="59" data-credit-score="19">
                    Ignore the bill payment
                  </a>
                </div>
              </div>

            </div>

          </div>


          <div id="answer1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                     It's a tough start, but you're on your way to resolving things and improving your finances.


                    <div class="text-center" id="info-button">
                      <a href="#scenario15" id="phone-link5" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <div id="answer2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                  You ignore the bill, but the debt continues to grow. Your credit score drops and the stress starts affecting your mood and future goals.

                    <div class="text-center" id="info-button">
                      <a href="#scenario15d" id="phone-link6" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>



          <!--End of scenario 14-->




          <!--Scenario 15-->


          <div id="scenario15" class="hidden-section">


            <h4 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text">You’ve just been laid off . Bills are piling up and the money's tight.</h4>


            <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>

            <div class="container">
              <div class="row">
                <div class="col-sm-4 hovertest" style="margin: 5px auto;">
                  <a href="#scene15-opt1" id="scene15-link1" style="text-decoration: none; color: #000000;"
                    class="choice-card" data-happiness="59" data-focus="58" data-connection="61" data-credit-score="68">
                    <div class="card my-card2">

                      <img src="./img/emergency.png" class="card-img-top"
                        style="width: 90%; height: auto; margin: 0 auto;">
                    </div>
                  </a>
                </div>

                <div class="col-sm-4 hovertest" style="margin: 5px auto;">
                  <a href="#scene15-opt2" id="scene15-link2" style="text-decoration: none; color: #000000;"
                    class="choice-card" data-happiness="59" data-focus="57" data-connection="42" data-credit-score="18">
                    <div class="card my-card2">

                      <img src="./img/delay.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
                    </div>
                  </a>
                </div>

              </div>
            </div>

          </div>


          <div id="scene15-opt1" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    Your bills are paid on time, but your savings take a hit. You're stable for now but you've drained your resources.

                    <div class="text-center" id="info-button">
                      <a href="#game-success" id="opt-link35" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

          <div id="scene15-opt2" class="hidden-section">


            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                    It's a temporary fix, but your credit takes a hit, and the stress is building.

                    <div class="text-center" id="info-button">
                      <a href="#game-failed" id="opt-link36" class="game-button">continue</a>
                    </div>
                  </div>

                </div>
              </div>

            </div>

          </div>

       
          <!--End of scenario 15-->


                <div id="game-success" class="hidden-section">

             <div class="text-center" id="summary-div">
          <h1 id="cs-font" style="color: #206E63;">GAME SUMMARY</h1>
               <!--
               <h2 id="risk">MEDIUM RISK</h2>
               -->
                <div id="risk">
                <img src="./img/low.png" class="card-img-top" id="risk-img">
                </div>
            <div class="result-container" style="position: relative; width: 50%; margin: 0 auto;" data-progress2="300">
              <img src="./img/result.png" class="card-img-top result-img">
              <div class="opacity-overlay2"></div> <!-- New overlay div -->
  <div class="resultarrow-img">
              <img src="./img/resultarrow.png" class="card-img-top">
<div id="result-text">You're Here!</div>
</div>
            </div>
            </div>
             
       
          <div class="container" id="mood-container">
            <div class="row">


                <div class=" col-sm-4 circular-progress-container2">
              <div class="circular-progress2" data-progress="50">
                <div class="inner-circle2">
                  <span class="percentage2" hidden>50%</span>
                  <img src="./img/happiness.png" class="card-img-top" style="width: 80%; height: auto; margin: 0 auto;">
                </div>
                <div class="outer-ring2"></div>
              </div>
              <h5 id="factortext">Happiness</h5>
            </div>
         
               <div class=" col-sm-4 circular-progress-container2">
              <div class="circular-progress2" data-progress="50">
                <div class="inner-circle2">
                  <span class="percentage2" hidden>50%</span>
                  <img src="./img/focus.png" class="card-img-top" style="width: 80%; height: auto; margin: 0 auto;">
                </div>
                <div class="outer-ring2"></div>
              </div>
              <h5 id="factortext">Life Goal</h5>
            </div>

             <div class=" col-sm-4 circular-progress-container2">
              <div class="circular-progress2" data-progress="50">
                <div class="inner-circle2">
                  <span class="percentage2" hidden>50%</span>
                  <img src="./img/relationship.png" class="card-img-top" style="width: 80%; height: auto; margin: 0 auto;">
                </div>
                <div class="outer-ring2"></div>
              </div>
              <h5 id="factortext">Relationship</h5>
            </div>

          </div>
          </div>
   
         
                  <div class="result-desc">

                    <h5 id="resulttext">Well played! You're cruising in the safe zone. Most lenders see you as a reliable borrower. Keep paying on time, avoid overspending and your financial future stays bright!</h5>



                  </div>

                  
                    <div class="text-center" id="result-button">
                    <a href="#quiz-game" id="recap-link1" class="game-button">continue</a>
                    </div>

          </div>


  <div id="game-failed" class="hidden-section">

          
             <div class="text-center" id="summary-div">
            <h1 id="cs-font" style="color: #206E63;">GAME SUMMARY</h1>
               <!--
               <h2 id="risk">MEDIUM RISK</h2>
               -->
             <div id="risk">
                <img src="./img/high.png" class="card-img-top" id="risk-img">
                </div>
            <div class="result-container3" style="position: relative; width: 50%; margin: 0 auto;" data-progress2="300">
              <img src="./img/result.png" class="card-img-top result-img3">
              <div class="opacity-overlay3"></div> <!-- New overlay div -->
                <div class="resultarrow-img3">
              <img src="./img/resultarrow.png" class="card-img-top">
<div id="result-text">You're Here!</div>
</div>
            </div>
            </div>
             
       
          <div class="container" id="mood-container">
            <div class="row">


                <div class=" col-sm-4 circular-progress-container3">
              <div class="circular-progress3" data-progress="50">
                <div class="inner-circle3">
                  <span class="percentage3" hidden>50%</span>
                  <img src="./img/happiness.png" class="card-img-top" style="width: 80%; height: auto; margin: 0 auto;">
                </div>
                <div class="outer-ring3"></div>
              </div>
              <h5 id="factortext">Happiness</h5>
            </div>
         
               <div class=" col-sm-4 circular-progress-container3">
              <div class="circular-progress3" data-progress="50">
                <div class="inner-circle3">
                  <span class="percentage3" hidden>50%</span>
                  <img src="./img/focus.png" class="card-img-top" style="width: 80%; height: auto; margin: 0 auto;">
                </div>
                <div class="outer-ring3"></div>
              </div>
              <h5 id="factortext">Life Goal</h5>
            </div>

             <div class=" col-sm-4 circular-progress-container3">
              <div class="circular-progress3" data-progress="50">
                <div class="inner-circle3">
                  <span class="percentage3" hidden>50%</span>
                  <img src="./img/relationship.png" class="card-img-top" style="width: 80%; height: auto; margin: 0 auto;">
                </div>
                <div class="outer-ring3"></div>
              </div>
              <h5 id="factortext">Relationship</h5>
            </div>

          </div>
          </div>
   
         
                  <div class="result-desc">

                    <h5 id="resulttext">Careful! Some of your choices may have raised red flags for lenders. There's still time to bounce back-tighten up those spending habits, pay on time and keep climbing!</h5>



                  </div>

                  
                    <div class="text-center" id="result-button">
                        <a href="#quiz-game" id="recap-link2" class="game-button">continue</a>
                    </div>


          </div>



          <div id="quiz-game" class="hidden-section">
            <video id="scenario-video4" autoplay muted playsinline>

              <source src="./video/quiz.mp4" type="video/mp4">
            </video>

            <div class="row quiz-progress hide">
              <div class="col-sm-12">
                <div id="question-progress-container">
                  <div></div>
                  <div id="question-progress-dots"></div>
                </div>
              </div>
            </div>

            <main class="quiz">
              <div id="quiz-start">
                <div class="landing" id="start-screen" style="padding-top: 250px;">
                  <div id="game4" class="text-center">
                    <a id="start" class="game-button">continue</a>
                  </div>
                </div>
              </div>

              <audio id="click-answer" src="./audio/sound-effect.mp3"></audio>

              <div class="hide" id="questions">
                <h2 id="question-words"></h2>
                <hr>
                <div class="options" id="options"></div>

                <a id="next-btn" class="animated-button1 hide">
                  <br>
                  <div class="vertical-line"></div>
                  <div id="nextbtn-div">
                    <img src="./img/quiz/nextbtn.png" id="quiz-next">
                  </div>
                </a>

                <div hidden>
                  <h4 id="quiz-end">
                    Quiz Score <span id="score-final" style="margin-left: 400px;"></span>
                  </h4>
                </div>

                <div id="feedback" class="feedback hide"></div>
              </div>

              <a href="#game-credit4" id="credit-link4" class="game-button hide">continue</a>
            </main>
          </div>

          <div id="game-credit4" class="hidden-section">
            <div class="row">
              <div class="col-sm-12">
                <div class="info-container1 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">

                   Phew! That was an eye-opener!
 Understanding how credit scores work isn’t always easy,
 but this quiz gave a solid recap to guide smarter
 financial decisions ahead.
 
                    <div class="text-center" id="info-button">
                      <a href="game-end.html" class="game-button">continue</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <script>
            document.addEventListener("DOMContentLoaded", () => {
              const video = document.getElementById("scenario-video4");
              const continueBtn = document.getElementById("game4");
              const gameLink = document.getElementById("start");
              const quizStart = document.getElementById("quiz-start");
              const questionsEl = document.getElementById("questions");
              const optionsEl = document.getElementById("options");
              const feedbackEl = document.getElementById("feedback");
              const nextBtn = document.getElementById("next-btn");
              const scoreFinal = document.getElementById("score-final");
              const quizEndMsg = document.getElementById("quiz-end");
              const creditLink = document.getElementById("credit-link4");
              const answerSound = document.getElementById("click-answer");

              const questions = [
                {
                  prompt: "1. What is the best way to improve your credit score over time?",
                  options: ["Opening new credit cards regularly", "Paying bills on time and reducing debt", "Applying for mortgage every year", "Earn more credits"],
                  answer: "Paying bills on time and reducing debt",
                  explanation: "Consistently paying your bills on time and reducing outstanding debt are key actions to improve and maintain a healthy credit score."
                },
                {
                  prompt: "2. Why is it important to regularly check your credit report?",
                  options: ["To increase your credit score automatically", "To get pre-approved for loans", "To ensure there are no mistakes or fraud affecting your score", "To understand your net worth"],
                  answer: "To ensure there are no mistakes or fraud affecting your score",
                  explanation: "Regularly checking your credit report allows you to spot errors or fraudulent activity that could negatively affect your credit score."
                },
                {
                  prompt: "3. Which of the following is the most important factor in determining your credit score?",
                  options: ["Length of credit history", "Types of credit used", "Recent inquiries", "Payment history"],
                  answer: "Payment history",
                  explanation: "Payment history is the most important factor, accounting for 35% of your credit score. Consistently making on-time payments is crucial."
                },
                {
                  prompt: "4. Which of the following can help protect your credit score?",
                  options: ["Making timely payments", "Using more than 50% of your credit limit regularly", "Frequently opening new credit cards", "Ignoring your credit report"],
                  answer: "Making timely payments",
                  explanation: "The best way to protect and improve your credit score is to make payments on time. Timely payments have the most significant impact."
                }
              ];

              let currentQuestionIndex = 0;
              let correctAnswers = 0;

              const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    video.play();
                    continueBtn.style.display = "none";
                    video.addEventListener("timeupdate", () => {
                      if (video.currentTime >= video.duration - 2) {
                        continueBtn.style.display = "block";
                      }
                    });
                  } else {
                    video.pause();
                    continueBtn.style.display = "none";
                  }
                });
              }, { threshold: 0.5 });

              observer.observe(document.getElementById("quiz-game"));

              gameLink.addEventListener("click", () => {
                video.style.display = "none";
                quizStart.classList.add("hide");
                questionsEl.classList.remove("hide");
                document.querySelector(".quiz-progress").classList.remove("hide");
                showQuestion();
              });

              function showQuestion() {
                const q = questions[currentQuestionIndex];
                document.getElementById("question-words").textContent = q.prompt;
                optionsEl.innerHTML = "";
                feedbackEl.classList.add("hide");
                nextBtn.classList.add("hide");

                q.options.forEach(option => {
                  const btn = document.createElement("button");
                  btn.textContent = option;
                  btn.value = option;
                  btn.onclick = handleAnswer;
                  optionsEl.appendChild(btn);
                });

                updateProgress();
              }

              function handleAnswer(e) {
                const selected = e.target;
                const q = questions[currentQuestionIndex];
                feedbackEl.classList.remove("hide");
                answerSound.currentTime = 0;
                answerSound.play().catch((err) => {
                  console.warn("Sound blocked by autoplay policy:", err);
                });


                if (selected.value === q.answer) {
                  feedbackEl.innerHTML = `Correct! <p>${q.explanation}</p>`;
                  feedbackEl.style.color = "#206E63";
                  correctAnswers++;
                } else {
                  feedbackEl.innerHTML = `Wrong! The correct answer is: <strong>${q.answer}</strong>.<p>${q.explanation}</p>`;
                  feedbackEl.style.color = "#DA1F27";
                }

                selected.style.backgroundColor = "#206E63";
                selected.style.color = "#fff";
                disableOptions();
                nextBtn.classList.remove("hide");

                if (currentQuestionIndex >= questions.length - 1) {
                  nextBtn.classList.add("hide");
                  endQuiz();
                }
              }

              function disableOptions() {
                optionsEl.querySelectorAll("button").forEach(btn => {
                  btn.disabled = true;
                  btn.style.pointerEvents = "none";
                });
              }

              nextBtn.addEventListener("click", () => {
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                  showQuestion();
                } else {
                  endQuiz();
                }
              });

              function updateProgress() {
                const dotsContainer = document.getElementById("question-progress-dots");
                dotsContainer.innerHTML = "";
                for (let i = 0; i < questions.length; i++) {
                  const dot = document.createElement("div");
                  dot.classList.add("dot");
                  if (i <= currentQuestionIndex) dot.classList.add("active");
                  dotsContainer.appendChild(dot);
                }
              }

              function endQuiz() {
                quizEndMsg.classList.remove("hide");
                creditLink.classList.remove("hide");
                scoreFinal.textContent = correctAnswers;
              }
            });

            document.addEventListener("DOMContentLoaded", () => {
                const stickyRow = document.querySelector(".sticky-row");
              const targets4 = [document.querySelector("#quiz-game"), document.querySelector("#game-credit4")];
              //const footer4 = document.querySelector("#footer");

              const observer4 = new IntersectionObserver(
                (entries) => {
                  let shouldHideStickyRow = false;
                  //let HideFooter = false;

                  // Check the visibility of each observed element
                  entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                      shouldHideStickyRow = true;
                      //HideFooter = true;
                    }
                  });

                  // Toggle the visibility of the sticky-row based on any intersecting element
                  if (shouldHideStickyRow) {
                    stickyRow.style.display = "none";
                    //footer4.style.display = "none";
                  } else {
                    stickyRow.style.display = "flex"; // Or your desired display value
                    //footer4.style.display = "block";
                  }
                },
                { threshold: 0.2 } // Adjust the visibility threshold as needed
              );
              // Observe each target element
              targets4.forEach((target) => {
                if (target) {
                  observer4.observe(target);
                }
              });
            });
          </script>



          <!--End of scenario 16-->



        </section> <!--section-->

      </div> <!-- col-sm-8 -->

      <div class="col-sm-2 text-left visible-section" id="factormeter">
        <aside style="padding-top: 60px;">
          <div class="container text-left">
            <div class="circular-progress-container">
              <div class="circular-progress" data-progress="50">
                <div class="inner-circle">
                  <span class="percentage" hidden>50%</span>
                  <img src="./img/happiness.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
                  <span class="tooltip">HAPPINESS: Reduce financial stress,<br>making it easier to manage<br>expenses
                    and enjoy life’s comforts</span>
                </div>
                <div class="outer-ring"></div>
              </div>
              <img src="./img/factor-up.png" class="factor-up-image">
            </div>
            <div class="circular-progress-container">
              <div class="circular-progress" data-progress="50">
                <div class="inner-circle">
                  <span class="percentage" hidden>50%</span>
                  <img src="./img/focus.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
                  <span class="tooltip">GOALS: Enabling opportunities like<br>homeownership or education, helping
                    loved<br>ones
                    move forward with their ambitions</span>
                </div>
                <div class="outer-ring"></div>
              </div>
              <img src="./img/factor-up.png" class="factor-up-image">
            </div>
            <div class="circular-progress-container">
              <div class="circular-progress" data-progress="50">
                <div class="inner-circle">
                  <span class="percentage" hidden>50%</span>
                  <img src="./img/relationship.png" class="card-img-top"
                    style="width: 90%; height: auto; margin: 0 auto;">
                  <span class="tooltip">RELATIONSHIP: Foster trust and open<br>
                    communication about finances and<br>
                    work together toward shared financial goals</span>
                </div>
                <div class="outer-ring"></div>
              </div>
              <img src="./img/factor-up.png" class="factor-up-image">
            </div>
          </div>
        </aside>
      </div> <!-- col-sm-2 -->

    </div><!--container fluid row-->


    <!--
<div id="footer">

  <div class="text-center" style="display: flex; gap: 80px; justify-content: center;">
    
    <a href="" id="" data-toggle="modal" data-target="#aboutgame" class="start-link">
      About this game
    </a>
    <a href="" id="" data-toggle="modal" data-target="#contactus" class="start-link">
      Contact Us
    </a>
  </div>


</div>
-->

    <div class="modal fade" id="aboutgame" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">About this game</h5>
            <a type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </a>
          </div>
          <div class="modal-body">
            Financial awareness game

          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="contactus" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Contact Us</h5>
            <a type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </a>
          </div>
          <div class="modal-body">
            Contact us at this email or number
          </div>
        </div>
      </div>
    </div>

    <br>

    <script>

      document.querySelectorAll('.circular-progress-container').forEach(function (container) {
        container.addEventListener('touchstart', function () {
          container.classList.toggle('touch');
        });

        // Optional: Remove 'touch' class after touch ends
        container.addEventListener('touchend', function () {
          container.classList.remove('touch');
        });
      });

      ///////////////////////////////////////////////////////////////



      document.getElementById('scene3-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene3-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario3');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene3-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene3-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario3');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene3a-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene3a-1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene3-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

          document.getElementById('scene3a-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene3a-2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene3-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      /*
        document.getElementById('tipslink1').addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default anchor link behavior
        
          
          // Reveal the section
          var targetSection = document.getElementById('scene3tips');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
        
          var hideSection = document.getElementById('scene3a');
          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');
        
              // Scroll to the section
              targetSection.scrollIntoView({ behavior: 'smooth' });
        });
      */


      document.getElementById('optlink9a').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario4');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene3a-1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

          document.getElementById('optlink9b').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario4');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene3a-2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('optlink10').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario4');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene3-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      ///////////////////////////////////////////////////////


      document.getElementById('scene4-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene4-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario4');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene4-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene4-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario4');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('optlink11').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario5');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene4-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('optlink12').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario5');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene4-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      /*
        document.getElementById('optlink13').addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default anchor link behavior
        
          
          // Reveal the section
          var targetSection = document.getElementById('scenario8');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
        
          var hideSection = document.getElementById('scene4tips');
          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');
        
              // Scroll to the section
              targetSection.scrollIntoView({ behavior: 'smooth' });
        });
        */

      /////////////////////////////////////////////////////////

      /*
      document.getElementById('title-link1').addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default anchor link behavior
        
          
          // Reveal the section
          var targetSection = document.getElementById('game-title1');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
        
          var hideSection = document.getElementById('scenario8');
          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');
      
          var targetSection = document.getElementById('creditmeter');
          targetSection.classList.remove('visible-section');
          targetSection.classList.add('hidden-section');
      
          var targetSection = document.getElementById('factormeter');
          targetSection.classList.remove('visible-section');
          targetSection.classList.add('hidden-section');
        
              // Scroll to the section
              targetSection.scrollIntoView({ behavior: 'smooth' });
        });
        */

      document.getElementById('game-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('vacation-game');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario8');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });


        // Play background music when family quiz is visible
        const backgroundMusic = document.getElementById('game-music');
        backgroundMusic.play();

      });


     const dragSound = document.getElementById('drag-sound');
      const dropSound = document.getElementById('drop-sound');

      function allowDrop(ev) {
        ev.preventDefault();
      }

      function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
        dragSound.currentTime = 0;
        dragSound.play();
      }

function drop(ev) {
  dropSound.currentTime = 0;
  dropSound.play();

  ev.preventDefault();
  const data = ev.dataTransfer.getData("text");
  const draggedItem = document.getElementById(data);
  const targetContainer = ev.target.closest("div");

  if (isCorrectMatch(draggedItem, targetContainer)) {
    placeItemCorrectly(draggedItem, targetContainer);
  } else {
    targetContainer.style.borderColor = "#DA1F27";

    // ✅ Reset to original draggable area to avoid overlap
    document.getElementById("title-items").appendChild(draggedItem);
  }

  checkCompletion();
}


      function isCorrectMatch(item, container) {
        return (
          (item.classList.contains("italy") && container.id === "location1") ||
          (item.classList.contains("dubai") && container.id === "location2") ||
          (item.classList.contains("france") && container.id === "location3") ||
          (item.classList.contains("singapore") && container.id === "location4") ||
          (item.classList.contains("japan") && container.id === "location5") ||
          (item.classList.contains("india") && container.id === "location6") ||
          (item.classList.contains("egypt") && container.id === "location7")
        );
      }

      function placeItemCorrectly(item, container) {
        container.appendChild(item);
        container.style.borderColor = "#206E63";
        container.style.backgroundColor = "whitesmoke";
        container.style.transition = "background-color 0.3s, border-color 0.3s";
        item.style.width = "80%";
        item.style.height = "auto";
      }

      function checkCompletion() {
        const correctMatches = [
          { location: "location1", class: "italy" },
          { location: "location2", class: "dubai" },
          { location: "location3", class: "france" },
          { location: "location4", class: "singapore" },
          { location: "location5", class: "japan" },
          { location: "location6", class: "india" },
          { location: "location7", class: "egypt" }
        ];

        const allCorrect = correctMatches.every(match => {
          const locationElement = document.getElementById(match.location);
          const draggedItem = locationElement.querySelector(`img.${match.class}`);
          return draggedItem !== null;
        });

        if (allCorrect) {
          const backgroundMusic = document.getElementById("game-music");
          fadeOutMusic(backgroundMusic, 2000);
          showModal();
        }
      }

// 🌟 TOUCH SUPPORT 🌟
let currentTouchItem = null;
let originalTouchParent = null;

document.querySelectorAll('.imgs').forEach(item => {
  item.addEventListener('touchstart', handleTouchStart, { passive: false });
  item.addEventListener('touchmove', handleTouchMove, { passive: false });
  item.addEventListener('touchend', handleTouchEnd, false);
});

function handleTouchStart(e) {
  e.preventDefault(); // Prevent default ghost behavior

  currentTouchItem = e.target;
  originalTouchParent = currentTouchItem.parentElement;

  // Move to body to avoid layout duplication
  document.body.appendChild(currentTouchItem);

  currentTouchItem.style.position = 'fixed';
  currentTouchItem.style.zIndex = '1000';
  currentTouchItem.style.pointerEvents = 'none'; // Avoid interference

  const touch = e.touches[0];
  currentTouchItem.style.left = touch.pageX - currentTouchItem.offsetWidth / 2 + 'px';
  currentTouchItem.style.top = touch.pageY - currentTouchItem.offsetHeight / 2 + 'px';

  dragSound.currentTime = 0;
  dragSound.play();
}

function handleTouchMove(e) {
  if (!currentTouchItem) return;

  const touch = e.touches[0];
  e.preventDefault();

  currentTouchItem.style.left = touch.pageX - currentTouchItem.offsetWidth / 2 + 'px';
  currentTouchItem.style.top = touch.pageY - currentTouchItem.offsetHeight / 2 + 'px';
}

function handleTouchEnd(e) {
  if (!currentTouchItem) return;

  const touch = e.changedTouches[0];
  const dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);
  const dropContainer = dropTarget?.closest('.location');

  const draggedItem = currentTouchItem;

  // Reset styles
  draggedItem.style.position = '';
  draggedItem.style.zIndex = '';
  draggedItem.style.pointerEvents = '';
  draggedItem.style.left = '';
  draggedItem.style.top = '';

  if (dropContainer) {
    if (isCorrectMatch(draggedItem, dropContainer)) {
      placeItemCorrectly(draggedItem, dropContainer);
      dropSound.currentTime = 0;
      dropSound.play();
    } else {
      dropContainer.style.borderColor = "#DA1F27";
      // ✅ Reset to original draggable area
      document.getElementById("title-items").appendChild(draggedItem);
    }
  } else {
    // Drop outside any location — return to original
    document.getElementById("title-items").appendChild(draggedItem);
  }

  currentTouchItem = null;
  originalTouchParent = null;

  checkCompletion();
}



      function fadeOutMusic(audio, duration) {
        const fadeOutInterval = 50;
        const fadeOutSteps = duration / fadeOutInterval;
        let currentVolume = audio.volume;
        const volumeDecrement = currentVolume / fadeOutSteps;

        const fadeOut = setInterval(() => {
          if (currentVolume > 0) {
            currentVolume -= volumeDecrement;
            audio.volume = Math.max(0, currentVolume);
          } else {
            clearInterval(fadeOut);
            audio.pause();
            audio.currentTime = 0;
          }
        }, fadeOutInterval);
      }

      function showModal() {
        const modal = new bootstrap.Modal(document.getElementById("gamemodal"));
        modal.show();
      }

      function closeModal() {
        const modal = bootstrap.Modal.getInstance(document.getElementById("gamemodal"));
        if (modal) {
          modal.hide();
        }
      }


      document.getElementById('credit-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('game-credit1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('vacation-game');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene8alink').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene8a');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('game-credit1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var targetSection = document.getElementById('creditmeter');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var targetSection = document.getElementById('factormeter');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene8a-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene8a-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene8a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene8a-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene8a-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene8a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('optlink14').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario9');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene8a-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');



        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('optlink15').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario9');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene8a-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      /////////////////////////////////////////////////////////

      /*
        document.getElementById('title-link2').addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default anchor link behavior
        
          
          // Reveal the section
          var targetSection = document.getElementById('game-title2');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
        
          var hideSection = document.getElementById('scenario5');
          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');
      
        
              // Scroll to the section
              targetSection.scrollIntoView({ behavior: 'smooth' });
        });
        */

      document.getElementById('game-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('wedding-game');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario5');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');



        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });


        // Play background music when family quiz is visible
        const backgroundMusic2 = document.getElementById('game-music2');
        backgroundMusic2.play();


      });


      document.getElementById('credit-link2a').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('game-credit2a');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('wedding-game');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('credit-link2b').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('game-credit2b');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('wedding-game');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene5a-modest').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene5a');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('game-credit2a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var targetSection = document.getElementById('creditmeter');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var targetSection = document.getElementById('factormeter');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene5a-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene5a-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene5a-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene5a-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene5a-link3').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene5a-opt3');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link38').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario6');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5a-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link39').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario6');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5a-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link40').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario6');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5a-opt3');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });



      document.getElementById('scene5b-dream').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene5b');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('game-credit2b');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var targetSection = document.getElementById('creditmeter');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var targetSection = document.getElementById('factormeter');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene5b-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene5b-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5b');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene5b-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene5b-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5b');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene5b-link3').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene5b-opt3');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5b');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link41').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario6');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5b-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link42').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario6');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5b-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link43').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario6');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene5b-opt3');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      ///////////////////////////////////////////////////////

      /*
        document.getElementById('scene11link').addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default anchor link behavior
        
          
          // Reveal the section
          var targetSection = document.getElementById('scenario11');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
        
          var hideSection = document.getElementById('game-credit2');
          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');
      
          
          var targetSection = document.getElementById('creditmeter');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
      
          var targetSection = document.getElementById('factormeter');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
        
              // Scroll to the section
              targetSection.scrollIntoView({ behavior: 'smooth' });
        });
      */


      document.getElementById('scene11-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene11-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario11');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene11-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene11-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario11');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene11-link3').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene11-opt3');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario11');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

        document.getElementById('scene11-link4').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene11-opt4');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario11');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link16').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario12');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene11-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link17').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario12');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene11-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link18').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario12');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene11-opt3');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


     document.getElementById('opt-link44').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario12');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene11-opt4');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      /////////////////////////////////////////////////////////


      document.getElementById('scene6-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene6-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario6');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene6-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene6-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario6');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene6-link3').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene6-opt3');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario6');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link19').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario7');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene6-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link20').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario7');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene6-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link21').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario7');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene6-opt3');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      /////////////////////////////////////////////////////////


      document.getElementById('scene12-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene12-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario12');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene12-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene12-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario12');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link22').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario13');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene12-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link23').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario13');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene12-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      ////////////////////////////////////////////////////////////////////


      /*
      document.getElementById('title-link3').addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default anchor link behavior
        
          
          // Reveal the section
          var targetSection = document.getElementById('game-title3');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
        
          var hideSection = document.getElementById('scenario9');
          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');
      
        
              // Scroll to the section
              targetSection.scrollIntoView({ behavior: 'smooth' });
        });
        */

      document.getElementById('game-link3').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        var hideSection = document.getElementById('scenario9');
        hideSection.classList.add('fade-out');

        // Once the fade-out transition is complete, proceed to reveal the target section
        hideSection.addEventListener('transitionend', function onTransitionEnd() {
          // Remove event listener to avoid multiple triggers
          hideSection.removeEventListener('transitionend', onTransitionEnd);

          // Reveal the section
          var targetSection = document.getElementById('business-game');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');

          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');


          // Play background music when family quiz is visible
          const backgroundMusic3 = document.getElementById('game-music3');
          backgroundMusic3.play();
          targetSection.scrollIntoView({ behavior: 'smooth' });
        }, { once: true });
      });


      const hiddenItems1 = {
        1: './img/business-game/after (1).png',
        2: './img/business-game/after (2).png',
        3: './img/business-game/after (3).png',
        4: './img/business-game/after (4).png',
        5: './img/business-game/after (5).png',
        6: './img/business-game/after (6).png',
        7: './img/business-game/after (7).png',
        8: './img/business-game/after (8).png',
        9: './img/business-game/after (9).png',
        10: './img/business-game/after (10).png',
        11: './img/business-game/after (11).png',
        12: './img/business-game/after (12).png'
      };

      let foundCount1 = 0;
      let maxItems = 5; // Maximum items to be found
      const clickSound = document.getElementById('click-sound'); // Select the sound effect
      const audioElement = document.getElementById('game-music3'); // Select the game music

      function fadeOutAudio(duration) {
        let volume = audioElement.volume;
        const fadeOutInterval = 50; // milliseconds
        const fadeOutStep = volume / (duration / fadeOutInterval);

        const fadeOut = setInterval(() => {
          if (volume > 0) {
            volume -= fadeOutStep;
            if (volume < 0) volume = 0; // Prevent going below 0
            audioElement.volume = volume;
          } else {
            clearInterval(fadeOut);
            audioElement.pause(); // Pause the audio after fading out
          }
        }, fadeOutInterval);
      }

      function checkItem1(itemNumber) {
        if (foundCount1 >= maxItems) return;

        // Play click sound
        clickSound.currentTime = 0;
        clickSound.play();

        const imgElement = document.querySelector(`img[data-item1="${itemNumber}"]`);

        if (hiddenItems1[itemNumber]) {
          foundCount1++;

          // Disable further clicks
          imgElement.onclick = null;

          // Change the image and trigger a fade-in (if needed)
          imgElement.style.opacity = 0; // Set transparent
          setTimeout(() => {
            imgElement.src = hiddenItems1[itemNumber];
            imgElement.onload = () => {
              imgElement.style.opacity = 1; // Fade in once loaded
            };
          }, 50); // Small delay for transition to take effect

          // Show result if max items found
          if (foundCount1 === maxItems) {
            setTimeout(() => {
              showModal2();
              fadeOutAudio(2000);
            }, 700);
          }
        }
      }

      function showModal2() {
        const modal = new bootstrap.Modal(document.getElementById("gameresult"));
        modal.show();
      }

      function closeModal2() {
        const modal = bootstrap.Modal.getInstance(document.getElementById("gameresult"));
        if (modal) {
          modal.hide();
        }
      }


      document.getElementById('credit-link3').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('game-credit3');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('business-game');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });



      document.getElementById('scene9alink').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene9a');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('game-credit3');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        var targetSection = document.getElementById('creditmeter');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var targetSection = document.getElementById('factormeter');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene9a-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene9a-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene9a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene9a-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene9a-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene9a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene9a-link3').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene9a-opt3');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene9a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene9a-link4').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene9a-opt4');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene9a');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link24').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario10');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene9a-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link25').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario10');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene9a-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link26').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario10');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene9a-opt3');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link27').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario10');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene9a-opt4');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      ///////////////////////////////////////////////////////


      document.getElementById('scene10link').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene10');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario10');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('scene10-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene10-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene10');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene10-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene10-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene10');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link28').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene10tips');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene10-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link29').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene10tips');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene10-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('tip10-link').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario11');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene10tips');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('hidden-section');
        hideSection.classList.add('visible-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('hidden-section');
        hideSection.classList.add('visible-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      ///////////////////////////////////////////////////////

      document.getElementById('scene7-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene7-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario7');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene7-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene7-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario7');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link30').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario8');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene7-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link31').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario8');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene7-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      /////////////////////////////////////////////////////////

      document.getElementById('scene13-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene13-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario13');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene13-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene13-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario13');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene13-link3').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene13-opt3');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario13');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link32').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene13tips');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene13-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link33').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene13tips');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene13-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link34').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene13tips');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene13-opt3');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('tip13-link').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scenario14');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene13tips');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('hidden-section');
        hideSection.classList.add('visible-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('hidden-section');
        hideSection.classList.add('visible-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      ///////////////////////////////////////////////////////

      document.getElementById('scene15-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene15-opt1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario15');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('scene15-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('scene15-opt2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario15');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('opt-link35').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('game-success');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene15-opt1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('opt-link36').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('game-failed');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scene15-opt2');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('creditmeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        var hideSection = document.getElementById('factormeter');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      /*
        document.getElementById('opt-link37').addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default anchor link behavior
        
          
          // Reveal the section
          var targetSection = document.getElementById('scenario14');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
        
          var hideSection = document.getElementById('scene15tips');
          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');
        
              // Scroll to the section
              targetSection.scrollIntoView({ behavior: 'smooth' });
        });
      */

      /////////////////////////////////////////////////////////



      document.getElementById('phone-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('info1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('scenario14');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('phone-link3').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('answer1');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('info1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('phone-link4').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('answer2');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('info1');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });


      document.getElementById('phone-link5').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior

        var hideSection = document.getElementById('answer1');
        hideSection.classList.add('fade-out');

        // Once the fade-out transition is complete, proceed to reveal the target section
        hideSection.addEventListener('transitionend', function onTransitionEnd() {
          // Remove event listener to avoid multiple triggers
          hideSection.removeEventListener('transitionend', onTransitionEnd);

          // Reveal the section
          var targetSection = document.getElementById('scenario15');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');

          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');

          // Scroll to the section
          targetSection.scrollIntoView({ behavior: 'smooth' });
        }, { once: true }); // Ensures the event listener is only invoked once
      });

      document.getElementById('phone-link6').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior

        var hideSection = document.getElementById('answer2');
        hideSection.classList.add('fade-out');

        // Once the fade-out transition is complete, proceed to reveal the target section
        hideSection.addEventListener('transitionend', function onTransitionEnd() {
          // Remove event listener to avoid multiple triggers
          hideSection.removeEventListener('transitionend', onTransitionEnd);

          // Reveal the section
          var targetSection = document.getElementById('scenario15');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');

          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');

          // Scroll to the section
          targetSection.scrollIntoView({ behavior: 'smooth' });
        }, { once: true }); // Ensures the event listener is only invoked once
      });


      document.getElementById('recap-link1').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('quiz-game');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('game-success');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');



        // Play background music when family quiz is visible
        const backgroundMusic = document.getElementById('game-music');
        backgroundMusic.play();
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      document.getElementById('recap-link2').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('quiz-game');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('game-failed');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');


        // Play background music when family quiz is visible
        const backgroundMusic = document.getElementById('game-music');
        backgroundMusic.play();
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });

      //////////////////////////////////////////////////

      /*
        document.getElementById('quiz-link').addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default anchor link behavior
        
          
          // Reveal the section
          var targetSection = document.getElementById('game-title4');
          targetSection.classList.remove('hidden-section');
          targetSection.classList.add('visible-section');
        
          var hideSection = document.getElementById('game-recap');
          hideSection.classList.remove('visible-section');
          hideSection.classList.add('hidden-section');
      
      
          var targetSection = document.getElementById('creditmeter');
          targetSection.classList.remove('visible-section');
          targetSection.classList.add('hidden-section');
      
          var targetSection = document.getElementById('factormeter');
          targetSection.classList.remove('visible-section');
          targetSection.classList.add('hidden-section');
        
              // Scroll to the section
              targetSection.scrollIntoView({ behavior: 'smooth' });
        });
        */

      /*
      document.getElementById('game-link4').addEventListener('click', function(event) {
        event.preventDefault(); // Prevent the default anchor link behavior
      
       
        var hideSection = document.getElementById('game-recap');
        hideSection.classList.add('fade-out');
    
        // Once the fade-out transition is complete, proceed to reveal the target section
        hideSection.addEventListener('transitionend', function onTransitionEnd() {
            // Remove event listener to avoid multiple triggers
            hideSection.removeEventListener('transitionend', onTransitionEnd);
    
       // Reveal the section
       var targetSection = document.getElementById('quiz-game');
       targetSection.classList.remove('hidden-section');
       targetSection.classList.add('visible-section');
      
       hideSection.classList.remove('visible-section');
       hideSection.classList.add('hidden-section');
    
    
      
             // Play background music when family quiz is visible
             const backgroundMusic = document.getElementById('game-music');
             backgroundMusic.play();
             targetSection.scrollIntoView({ behavior: 'smooth' });
         }, { once: true });
     });
    */

      document.getElementById('credit-link4').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default anchor link behavior


        // Reveal the section
        var targetSection = document.getElementById('game-credit4');
        targetSection.classList.remove('hidden-section');
        targetSection.classList.add('visible-section');

        var hideSection = document.getElementById('quiz-game');
        hideSection.classList.remove('visible-section');
        hideSection.classList.add('hidden-section');

        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
      });



      /////////////////////////////////////////////////////////////


 // Initialize progress on page load
      document.addEventListener('DOMContentLoaded', () => {
        // Delay to ensure images are loaded
        setTimeout(initProgress, 100);
      });


      function updateCircularProgress(element, newValue) {
        const previousValue = parseInt(element.getAttribute('data-progress'), 10);
        element.setAttribute('data-progress', newValue);

        // Update percentage text
        const percentageElement = element.querySelector('.inner-circle .percentage');
        if (percentageElement) {
          percentageElement.innerHTML = `${newValue}%`;
          percentageElement.hidden = true;
        }

        const outerRing = element.querySelector('.outer-ring');
    const innercirc = element.querySelector('.inner-circle');
        if (outerRing) {
          // Define the original gradient
          const originalGradient = `conic-gradient(#D4C029 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`;

          let tempColor;
          if (newValue > previousValue) {
            tempColor = `conic-gradient(#206E63 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`; // Green for up
          } else if (newValue < previousValue) {
            tempColor = `conic-gradient(#DA1F27 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`; // Red for down
          }

          // Temporarily set color if value changed
          if (tempColor) {
            outerRing.style.background = tempColor;
  // ✨ Add pulse effect
    outerRing.classList.add('pulse');
     innercirc.classList.add('pulse');
    setTimeout(() => {
      outerRing.classList.remove('pulse');
       innercirc.classList.remove('pulse');
              outerRing.style.background = originalGradient;
            }, 1000); // Duration matches the arrow visibility
          } else {
            outerRing.style.background = originalGradient;
          }
        }

        const arrowImage = element.parentElement.querySelector('.factor-up-image');
        if (arrowImage) {
          if (newValue > previousValue) {
            arrowImage.src = './img/factor-up.png';
          } else if (newValue < previousValue) {
            arrowImage.src = './img/factor-down.png';
          } else {
            arrowImage.classList.add('hidden');
            return;
          }

          arrowImage.classList.remove('visible', 'hidden');
          void arrowImage.offsetWidth; // Reset animation
          arrowImage.classList.add('visible');

          setTimeout(() => {
            arrowImage.classList.remove('visible');
            arrowImage.classList.add('hidden');
          }, 1000);
        }
      }


      function updateCircularProgress2(element, newValue) {
  const previousValue = parseInt(element.getAttribute('data-progress'), 10);
  element.setAttribute('data-progress', newValue);

  // Update percentage text
  const percentageElement = element.querySelector('.inner-circle2 .percentage2');
  if (percentageElement) {
    percentageElement.innerHTML = `${newValue}%`;
    percentageElement.hidden = true;
  }

  const outerRing = element.querySelector('.outer-ring2');
  if (outerRing) {
    const originalGradient = `conic-gradient(#D4C029 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`;

    let tempColor;
    if (newValue > previousValue) {
      tempColor = `conic-gradient(#206E63 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`;
    } else if (newValue < previousValue) {
      tempColor = `conic-gradient(#DA1F27 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`;
    }

    if (tempColor) {
      outerRing.style.background = tempColor;
      setTimeout(() => {
        outerRing.style.background = originalGradient;
      }, 1000);
    } else {
      outerRing.style.background = originalGradient;
    }
  }
}

      function updateCircularProgress3(element, newValue) {
  const previousValue = parseInt(element.getAttribute('data-progress'), 10);
  element.setAttribute('data-progress', newValue);

  // Update percentage text
  const percentageElement = element.querySelector('.inner-circle3 .percentage3');
  if (percentageElement) {
    percentageElement.innerHTML = `${newValue}%`;
    percentageElement.hidden = true;
  }

  const outerRing = element.querySelector('.outer-ring3');
  if (outerRing) {
    const originalGradient = `conic-gradient(#D4C029 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`;

    let tempColor;
    if (newValue > previousValue) {
      tempColor = `conic-gradient(#206E63 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`;
    } else if (newValue < previousValue) {
      tempColor = `conic-gradient(#DA1F27 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`;
    }

    if (tempColor) {
      outerRing.style.background = tempColor;
      setTimeout(() => {
        outerRing.style.background = originalGradient;
      }, 1000);
    } else {
      outerRing.style.background = originalGradient;
    }
  }
}



      // Function to update circular progress and arrow
      const minValue = 1;
      const maxValue = 100;


      function updateCreditArrow() {
        const container = document.querySelector('.credit-score-container');
        const arrowElement = document.querySelector('.creditarrow-img');
        const overlayElement = document.querySelector('.opacity-overlay');

        if (!container || !arrowElement || !overlayElement) {
          console.log('Container, arrow element, or overlay element not found');
          return;
        }

        const containerHeight = container.clientHeight;
        const arrowHeight = arrowElement.clientHeight;

        // Ensure valid dimensions
        if (containerHeight === 0 || arrowHeight === 0) {
          console.log('No container or arrow height specified');
          return;
        }

        // Retrieve the credit score from the data-progress attribute
        const creditScore = parseInt(container.getAttribute('data-progress2'), 10);
        if (isNaN(creditScore)) {
          console.log('No credit score specified');
          return;
        }

        // Calculate the position percentage
        const positionPercentage = ((creditScore - minValue) / (maxValue - minValue)) * 100;
        if (positionPercentage < 0 || positionPercentage > 100) {
          console.log('Position percentage out of bounds');
          return;
        }

        // Calculate the top position of the arrow
        const arrowTop = (containerHeight - arrowHeight) * (1 - positionPercentage / 100);
        arrowElement.style.top = `${Math.max(0, Math.min(arrowTop, containerHeight - arrowHeight))}px`;

        // Adjust the gradient stop position based on the arrow's top position
        const gradientPosition = ((arrowTop + 6) / containerHeight) * 100;
        overlayElement.style.background = `linear-gradient(to bottom, rgba(252, 252, 252, 0.486) ${gradientPosition}%, rgba(0, 0, 0, 0) ${gradientPosition}%)`;

        // Ensure the overlay covers the entire container to account for possible gradient overflow
        overlayElement.style.height = `${containerHeight}px`;
      }



       function updateResultArrow() {
 const gameSuccess = document.getElementById('game-success');
  const container = document.querySelector('.result-container');
  const arrowElement = document.querySelector('.resultarrow-img');
  const overlayElement = document.querySelector('.opacity-overlay2');

  if (!container || !arrowElement || !overlayElement || !gameSuccess) {
    console.log('Required element(s) not found.');
    return;
  }

  // Save original inline styles
  const originalStyle = {
    display: gameSuccess.style.display,
    visibility: gameSuccess.style.visibility
  };

  // Temporarily make the section visible off-screen for layout calculations
  gameSuccess.style.display = 'block';
  gameSuccess.style.visibility = 'hidden';

  // Measure dimensions
  const containerWidth = container.clientWidth;
  const arrowWidth = arrowElement.clientWidth;

  // Restore original styles
  gameSuccess.style.display = originalStyle.display;
 gameSuccess.style.visibility = originalStyle.visibility;

  if (containerWidth === 0 || arrowWidth === 0) {
    console.log('No container or arrow width specified');
    return;
  }

  // Get credit score
  const creditScore = parseInt(container.getAttribute('data-progress2'), 10);


  if (isNaN(creditScore)) {
    console.log('No credit score specified');
    return;
  }

  // Calculate arrow position
  const positionPercentage = ((creditScore - minValue) / (maxValue - minValue)) * 100;
  const arrowLeft = (containerWidth - arrowWidth) * (1 - positionPercentage / 100);

  arrowElement.style.left = `${Math.max(0, Math.min(arrowLeft, containerWidth - arrowWidth))}px`;

  // Apply gradient to overlay
  const gradientPosition = (arrowLeft / containerWidth) * 100;
  overlayElement.style.background = `linear-gradient(to right, rgba(252, 252, 252, 0.486) ${gradientPosition}%, rgba(0, 0, 0, 0) ${gradientPosition}%)`;
  overlayElement.style.width = `${containerWidth}px`;
}


 function updateResultArrow2() {
  const gameFailed = document.getElementById('game-failed');
  const container = document.querySelector('.result-container3');
  const arrowElement = document.querySelector('.resultarrow-img3');
  const overlayElement = document.querySelector('.opacity-overlay3');

  if (!container || !arrowElement || !overlayElement || !gameFailed) {
    console.log('Required element(s) not found.');
    return;
  }

  // Save original inline styles
  const originalStyle = {
    display: gameFailed.style.display,
    visibility: gameFailed.style.visibility
  };

  // Temporarily make the section visible off-screen for layout calculations
  gameFailed.style.display = 'block';
  gameFailed.style.visibility = 'hidden';

  // Measure dimensions
  const containerWidth = container.clientWidth;
  const arrowWidth = arrowElement.clientWidth;

  // Restore original styles
  gameFailed.style.display = originalStyle.display;
  gameFailed.style.visibility = originalStyle.visibility;

  if (containerWidth === 0 || arrowWidth === 0) {
    console.log('No container or arrow width specified');
    return;
  }

  // Get credit score
  const creditScore = parseInt(container.getAttribute('data-progress2'), 10);


  if (isNaN(creditScore)) {
    console.log('No credit score specified');
    return;
  }

  // Calculate arrow position
  const positionPercentage = ((creditScore - minValue) / (maxValue - minValue)) * 100;
  const arrowLeft = (containerWidth - arrowWidth) * (1 - positionPercentage / 100);

  arrowElement.style.left = `${Math.max(0, Math.min(arrowLeft, containerWidth - arrowWidth))}px`;

  // Apply gradient to overlay
  const gradientPosition = (arrowLeft / containerWidth) * 100;
  overlayElement.style.background = `linear-gradient(to right, rgba(252, 252, 252, 0.486) ${gradientPosition}%, rgba(0, 0, 0, 0) ${gradientPosition}%)`;
  overlayElement.style.width = `${containerWidth}px`;
}

      // Initialize the credit arrow and overlay gradient based on the initial data-progress value
function initProgress() {
  document.querySelectorAll('.circular-progress').forEach(progress => {
    const initialValue = parseInt(progress.getAttribute('data-progress'), 10);
    if (!isNaN(initialValue)) {
      updateCircularProgress(progress, initialValue);
    }
  });

  document.querySelectorAll('.circular-progress2').forEach(progress => {
    const initialValue = parseInt(progress.getAttribute('data-progress'), 10);
    if (!isNaN(initialValue)) {
      updateCircularProgress2(progress, initialValue);
    }
  });

    document.querySelectorAll('.circular-progress3').forEach(progress => {
    const initialValue = parseInt(progress.getAttribute('data-progress'), 10);
    if (!isNaN(initialValue)) {
      updateCircularProgress3(progress, initialValue);
    }
  });

  updateCreditArrow();
  updateResultArrow();
  updateResultArrow2();
}


      // Add event listeners to choice cards
   document.querySelectorAll('.choice-card').forEach(card => {
  card.addEventListener('click', function (event) {
    event.preventDefault();

    const happiness = this.getAttribute('data-happiness');
    const focus = this.getAttribute('data-focus');
    const connection = this.getAttribute('data-connection');
    const creditScore = this.getAttribute('data-credit-score');
    //const resultScore = this.getAttribute('data-result-score'); // Add this attribute to your cards

    document.querySelectorAll('.circular-progress').forEach((progress, index) => {
      const value = [happiness, focus, connection][index];
      if (value) updateCircularProgress(progress, value);
    });

    document.querySelectorAll('.circular-progress2').forEach((progress, index) => {
      const value = [happiness, focus, connection][index];
      if (value) updateCircularProgress2(progress, value);
    });

      document.querySelectorAll('.circular-progress3').forEach((progress, index) => {
      const value = [happiness, focus, connection][index];
      if (value) updateCircularProgress3(progress, value);
    });

    const creditContainer = document.querySelector('.credit-score-container');
    if (creditContainer) {
      creditContainer.setAttribute('data-progress2', creditScore);
      updateCreditArrow('.credit-score-container', '.creditarrow-img', '.opacity-overlay');
    }

   
    const resultContainer = document.querySelector('.result-container');
    if (resultContainer) {
      resultContainer.setAttribute('data-progress2', creditScore);
      updateResultArrow('.result-container', '.resultarrow-img', '.opacity-overlay2');
    }

       const resultContainer3 = document.querySelector('.result-container3');
    if (resultContainer3) {
      resultContainer3.setAttribute('data-progress2', creditScore);
      updateResultArrow2('.result-container3', '.resultarrow-img3', '.opacity-overlay3');
    }
    

    const targetSection = document.querySelector(this.getAttribute('href'));
    if (targetSection) {
      targetSection.classList.remove('hidden-section');
      targetSection.classList.add('visible-section');
      targetSection.scrollIntoView({ behavior: 'smooth' });

      const arrow = targetSection.querySelector('.arrow');
      if (arrow) animateArrow(arrow);
    }
  });
});

    </script>




    <!-- JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script>



</body>

</html>
