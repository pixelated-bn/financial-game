<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CreditLit</title>

<!-- Bootstrap and CSS -->
        <!--Link for connecting to bootstrap-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous"> 
<!-- Boxicons CDN Link -->
<link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet" />
        <!--Link to connect to font awesome-->
        <!--Link to connect to CSS-->
        <link rel="stylesheet" href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css'>
        <link rel="stylesheet" href="./css/style.css">

</head>
<body>

  <div class="container-fluid">
        <div class="row sticky-row">
          <div class="col-sm-10">
            <a class="" href="index.html" style="text-decoration: none;"><img src="./img/creditlit.png" class="card-img-top" style="width: 8%; height: auto; margin: 0 auto;"></a>
          </div>
          <div class="col-sm-2" id="info-icon"> <a href="" id="" data-toggle="modal" data-target="#info-game" class="start-link">
            <i class='bx bx-info-circle' id="info"></i></a>
          </div>
          
      </div>


      <div class="modal fade" id="info-game" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">

          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-center" id="exampleModalLongTitle">About Creditlit</h5>
              <a type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </a>
            </div>
            <div class="modal-body">
              <div class="embed-responsive embed-responsive-16by9">
                <video class="embed-responsive-item" controls muted>
                  <source src="./video/about-game.mp4" type="video/mp4">
                </video>
              </div>
              
            </div>
          </div>
        </div>
      </div>

 
<div> <!--container fluid row-->
  

  <div class="col-sm-2 text-center visible-section" id="creditmeter">
    <aside style="padding-top: 30px;">
        <div class="text-center">
          <h5 id="cs-font">CREDIT<br>SCORE</h5>
            <div class="credit-score-container" style="position: relative; width: 50%; margin: 0 auto;" data-progress="300">
              <img src="./img/creditscore.png" class="card-img-top creditscore-img">
              <div class="opacity-overlay"></div> <!-- New overlay div -->
              <img src="./img/creditarrow.png" class="card-img-top creditarrow-img">
              
          <span class="tooltip2">Credit Score</span>
          </div>
        </div>
    </aside>
</div>


    <div class="col-sm-8 text-center" id="section"> <!-- col-sm-8 -->

   <section> <!--section-->


    
    
                <!--Scenario 3-->

                <div id="scenario3" class="visible-section">


                  <h5 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text">Your younger sibling, Adam asks for your help in securing a loan. He wants to buy a car but don't have a strong enough credit history. So, he turns to you for support.</h5>


                  <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>
           
           
                  <div class="container">
                    <div class="row">
                        <div class="col-sm-4 hovertest" style="padding-top: 40px; margin: 5px auto;">
                          <a href="#scene3-opt1" id="scene3-link1" style="text-decoration: none; color: #000000;"> 
                            <div class="card my-card2">
                           
                          <img src="./img/cosign-yes.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
                        </div>
                      </a>
                    </div>
                
                    <div class="col-sm-4 hovertest" style="padding-top: 40px; margin: 5px auto;">  
                      <a href="#scene3-opt2" id="scene3-link2" style="text-decoration: none; color: #000000;" class="choice-card" data-happiness="47" data-connection="47">  
                        <div class="card my-card2">
                          
                          <img src="./img/cosign-no.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
                          </div>
                        </a>
                        </div>
                
                    </div>
                 </div>
          
                </div>


                <div id="scene3-opt1" class="hidden-section">


                  <h4 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text">Adam started missing a few payments and over time, clearly struggling to keep up. He ends up defaulting the loan and you've been receiving reminders from the bank for the remaining balance.</h4>

               

                  <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>
           
                  <div>
                
                    <div class="text-center" id="choices-div">
                      <div id="choices-col">
                      <a href="#scene3a" id="scene3a-link1" class="choice-card" data-happiness="47" data-connection="47" data-credit-score="43">
                        Pay off full loan
                      </a>
                    </div>
                    <div id="choices-col">
                      <a href="#scene3a" id="scene3a-link2" class="choice-card" data-happiness="47" data-connection="47" data-credit-score="43">
                       Negotiate payment with bank
                       </a>
                    </div>
                  </div>
                    
                   </div>
            
            </div>


            <div id="scene3a" class="hidden-section">
    
    
              <div class="row">
                <div class="col-sm-12">
                  <div class="info-container2 text-center">
                    <img src="./img/narrative.png">
                    <div class="overlay-text">
                     
                      <br><br><br>You manage to pay off the loan or negotiate a deal, but it leaves you financially vulnerable for several years. This cause dramatically drop in your credit credit score. Eventually, you will be able to rebuild your credit score but you've learned a hard lesson about the risk of co-signing. Your relationship with Adam is still intact but it remains complicated. 
          
                      <div class="text-center" id="info-button">
                      <a href="#scenario4" id="optlink9" class="game-button">continue</a>
                    </div>
                  </div>
                  
              </div>
              </div>
            
          </div>
          
          </div>


          
            <div id="scene3-opt2" class="hidden-section">
          
          
              <div class="row">
                <div class="col-sm-12">
                  <div class="info-container2 text-center">
                    <img src="./img/narrative.png">
                    <div class="overlay-text">
                     
                      <br><br><br>Learn the importance of setting boundaries when co-signing loans and make wiser financial decisions in the future. Consult with a financial advisor to fully understand the risks. Your relationship with your sibling although strained is repaired over time.
          
                      <div class="text-center" id="info-button">
                      <a href="#scenario8" id="optlink10" class="game-button">continue</a>
                    </div>
                  </div>
                  
              </div>
              </div>
            
          </div>
          
          </div>

                <!--End of scenario 3-->


                <!--Scenario 4-->


                <div id="scenario4" class="hidden-section">

                
                  <h4 class="text-center" style="font-weight: normal; font-style: italic;" id="title-text">You're offered a new credit card with rewards (0% APR for 12 months) You must decide if opening it will benefit you or hurt you.</h4>

              

                  <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>
           
                  <div>
                
                    <div class="text-center" id="choices-div">
                      <div id="choices-col">
                      <a href="#scene4-opt1" id="scene4-link1" class="choice-card" data-focus="47" data-credit-score="41">
                        Open a new credit card for the rewards
                      </a>
                    </div>
                    <div id="choices-col">
                      <a href="#scene4-opt2" id="scene4-link2" class="choice-card">
                       Keep your current cards
                       </a>
                    </div>
                  </div>
                    
                   </div>
          
                </div>


                <div id="scene4-opt1" class="hidden-section">
    
    
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="info-container2 text-center">
                        <img src="./img/narrative.png">
                        <div class="overlay-text">
                         
                          <br><br><br>Opening too many new cards or having too many inquiries can lower your score temporarily and decrease your average account age. Additionally, having multiple new accounts could indicate higher credit risk to lenders. 
              
                          <div class="text-center" id="info-button">
                          <a href="#scenario8" id="optlink11" class="game-button">continue</a>
                        </div>
                      </div>
                      
                  </div>
                  </div>
                
              </div>
              
              </div>
    
              
                <div id="scene4-opt2" class="hidden-section">
              
              
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="info-container2 text-center">
                        <img src="./img/narrative.png">
                        <div class="overlay-text">
                         
                          <br><br><br>Opening a new card can improve your credit mix and available credit, lowering your overall credit utilization if you dont overspend.
              
                          <div class="text-center" id="info-button">
                          <a href="#scenario8" id="optlink12" class="game-button">continue</a>
                        </div>
                      </div>
                      
                  </div>
                  </div>
                
              </div>
              
              </div>



                <!--End of scenario 4-->

                

                <!--Scenario 8-->

     
<div id="scenario8" class="text-center hidden-section" style="padding-top: 20px;">
  <video id="scenario-video1" style="width: 100%; height: auto; display: block;">
      <source src="./video/travel.mp4" type="video/mp4">
  </video>

  <!-- Continue button (hidden initially) -->
  <div id="game1" class="text-center" style="padding-top: 20px;">
      <a href="#vacation-game" id="game-link1" class="game-button">continue</a>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const video = document.getElementById("scenario-video1");
  const scenario8Div = document.getElementById("scenario8");
  const continueBtn = document.getElementById("game1");

  const observergame1 = new IntersectionObserver(entries => {
      entries.forEach(entry => {
          if (entry.isIntersecting) {
              video.play(); // Play video when div is visible

              // Show button after 5 seconds
              setTimeout(() => {
                  continueBtn.style.display = "block";
              }, 4000);

              // OR Show button when the video is about to finish
              video.addEventListener("timeupdate", function () {
                  if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                      continueBtn.style.display = "block";
                  }
              });
          } else {
              video.pause(); // Pause video when div is out of view (optional)
              continueBtn.style.display = "none"; // Hide button again if video is not playing
          }
      });
  }, { threshold: 0.5 }); // Adjust threshold for when the video should start

  observergame1.observe(scenario8Div);
});
</script>



              <div id="vacation-game" class="hidden-section">

                <!-- Add the audio element here -->
                <audio id="game-music" loop>
                  <source src="./audio/game-music-loop-7-145285.mp3" type="audio/mpeg">
                  Your browser does not support the audio element.
              </audio>
              
              <audio id="drag-sound" src="./audio/sound-effect.mp3"></audio> <!-- Drag sound -->
              <audio id="drop-sound" src="./audio/sound-effect.mp3"></audio> <!-- Drop sound -->
              
              <div class="container" id="vacation">
                <h4 style="color: #206E63; font-weight: bold;">Match the monument with the correct country!</h4>
                <br>
                <div class="row" id="vacay-row">
                  <div class="col-sm-3" id="vacay-box">
                    <div class="item-box">
                      <img src="./img/landmark/italy.png" class="monument">
                      <div id="location1" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-3" id="vacay-box">
                    <div class="item-box">
                      <img src="./img/landmark/dubai.png" class="monument">
                      <div id="location2" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-3" id="vacay-box">
                    <div class="item-box">
                      <img src="./img/landmark/france.png" class="monument">
                      <div id="location3" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-3" id="vacay-box">
                    <div class="item-box">
                      <img src="./img/landmark/singapore.png" class="monument">
                      <div id="location4" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row" id="vacay-row">
                  <div class="col-sm-4" id="vacay-box">
                    <div class="item-box">
                      <div class="japan">
                      <img src="./img/landmark/japan.png" class="monument">
                      </div>
                      <div id="location5" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-4" id="vacay-box">
                    <div class="item-box">
                      <img src="./img/landmark/india.png" class="monument">
                      <div id="location6" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-4" id="vacay-box">
                    <div class="item-box">
                      <div class="egypt">
                      <img src="./img/landmark/egypt.png" class="monument">
                      <div id="location7" class="location" ondrop="drop(event)" ondragover="allowDrop(event)">
                      </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
               
            
              <div id="title-items" class="name-group" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img src="./img/landmark/france-title.png" draggable="true" ondragstart="drag(event)" id="drag3" class="imgs france">
                <img src="./img/landmark/italy-title.png" draggable="true" ondragstart="drag(event)" id="drag5" class="imgs italy">
                <img src="./img/landmark/india-title.png" draggable="true" ondragstart="drag(event)" id="drag6" class="imgs india">
                <img src="./img/landmark/egypt-title.png" draggable="true" ondragstart="drag(event)" id="drag7" class="imgs egypt">
                <br>
                <img src="./img/landmark/japan-title.png" draggable="true" ondragstart="drag(event)" id="drag2" class="imgs japan">
                <img src="./img/landmark/singapore-title.png" draggable="true" ondragstart="drag(event)" id="drag9" class="imgs singapore">
                <img src="./img/landmark/dubai-title.png" draggable="true" ondragstart="drag(event)" id="drag11" class="imgs dubai">
              </div>
              
              </div>

              
              <div class="modal fade" id="gamemodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
                  <div class="modal-content">
                    <div class="modal-body text-center">
                 <br>
                      <h3 style="font-weight: normal;">Well Done! You did great!</h3>
                      <br>
                      <a href="#game-credit1" id="credit-link1" class="game-button" data-dismiss="modal">continue</a>
                   <br> <br>
                  </div>
                  </div>
                </div>
              </div>
              
              
              <div id="game-credit1" class="hidden-section" style="padding-top: 20px;">

                <div class="row">
                  <div class="col-sm-12">
                    <div class="info-container2 text-center">
                      <img src="./img/narrative.png">
                      <div class="overlay-text">
              
                  <br><br>Whether it's stunning views, amazing food, or thrilling activities, these destinations have it all. Now, to fully equip yourselves for this journey, it's time to prep your
                  resources, load up your 'travel funds' and finalize the details so you can
                  enjoy the ultimate getaway you've been waiting for!

              <div class="text-center" style="padding-top: 60px;">
                <a href="#scene8a" id="scene8alink" class="game-button">continue</a>
              </div>
            </div>
            
        </div>
        </div>
      
    </div>
    
    </div>


              
              <script>
                document.addEventListener("DOMContentLoaded", () => {
                 const stickyRow = document.querySelector(".sticky-row");
                 const footer = document.querySelector("#footer");
                 const targets = [document.querySelector("#scenario8"), document.querySelector("#vacation-game")];
               
                 const observer1 = new IntersectionObserver(
                   (entries) => {
                     let shouldHideStickyRow = false;
                     let HideFooter = false;
               
                     // Check the visibility of each observed element
                     entries.forEach((entry) => {
                       if (entry.isIntersecting) {
                         shouldHideStickyRow = true;
                         HideFooter = true;
                       }
                     });
               
                     // Toggle the visibility of the sticky-row based on any intersecting element
                     if (shouldHideStickyRow && HideFooter) {
                       stickyRow.style.display = "none";
                       footer.style.display = "none";
                     } else {
                       stickyRow.style.display = "flex"; // Or your desired display value
                       footer.style.display = "block";
                     }
                   },
                   { threshold: 0.2 } // Adjust the visibility threshold as needed
                 );
               
                 // Observe each target element
                 targets.forEach((target) => {
                   if (target) {
                     observer1.observe(target);
                   }
                 });
               });
               
               
               </script>


              <div id="scene8a" class="hidden-section" style="padding-top: 20px;">

                <br><br><br><br>
                <h4 class="text-center" style="font-weight: normal; font-style: italic;">You've heard about credit card rewards and you're eager to rack up points for flights and other perks plus it is giving you more flexibility on the trip.</h4>

                <br><br><br>

                <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>
         
                <div>
              
                  <div class="text-center" id="choices-div">
                    <div id="choices-col">
                    <a href="#scene8a-opt1" id="scene8a-link1" class="choice-card" data-happiness="45" data-connection="45" data-credit-score="35">
                     Enjoy the trip - the bills can wait!
                    </a>
                  </div>
                  <div id="choices-col">
                    <a href="#scene8a-opt2" id="scene8a-link2" class="choice-card" data-happiness="45" data-connection="45" data-credit-score="38">
                     Time to tighten the belt and cut back – keep your bills in line!
                     </a>
                  </div>
                </div>
                  
                 </div>
        
              </div>


              <div id="scene8a-opt1" class="hidden-section" style="padding-top: 20px;">
    
    
                <div class="row">
                  <div class="col-sm-12">
                    <div class="info-container2 text-center">
                      <img src="./img/narrative.png">
                      <div class="overlay-text">
                       
                        <br><br>Your credit utilization rate has skyrocketed. This means you've used up a large portion of your available credit,  and this is one of the main factors affecting your credit score. It may take years to recover financially. Your relationships with friends become strained as you struggle with the fallout. 
            
                        <div class="text-center" style="padding-top: 60px;">
                        <a href="#scenario5" id="optlink14" class="game-button">continue</a>
                      </div>
                    </div>
                    
                </div>
                </div>
              
            </div>
            
            </div>
  
            
              <div id="scene8a-opt2" class="hidden-section" style="padding-top: 20px;">
            
            
                <div class="row">
                  <div class="col-sm-12">
                    <div class="info-container2 text-center">
                      <img src="./img/narrative.png">
                      <div class="overlay-text">
                       
                        <br><br>The financial strain of the past vacation still lingers in your monthly budget, and you've learned that your credit card isn't an endless money source.
            
                        <div class="text-center" style="padding-top: 60px;">
                        <a href="#scenario5" id="optlink15" class="game-button">continue</a>
                      </div>
                    </div>
                    
                </div>
                </div>
              
            </div>
            
            </div>


                <!--End of Scenario 8-->


                <!--Scenario 5-->

               
                  <div id="scenario5" class="text-center hidden-section">
                    <video id="scenario-video2" style="width: 100%; height: auto; display: block;">
                        <source src="./video/wedding.mp4" type="video/mp4">
                    </video>
                  
                    <!-- Continue button (hidden initially) -->
                    <div id="game2" class="text-center">
                        <a href="#wedding-game" id="game-link2" class="game-button">continue</a>
                    </div>
                  </div>
                  
                  <script>
                  document.addEventListener("DOMContentLoaded", function () {
                    const video = document.getElementById("scenario-video2");
                    const scenario5Div = document.getElementById("scenario5");
                    const continueBtn = document.getElementById("game2");
                  
                    const observergame2 = new IntersectionObserver(entries => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                video.play(); // Play video when div is visible
                  
                                // Show button after 5 seconds
                                setTimeout(() => {
                                    continueBtn.style.display = "block";
                                }, 5000);
                  
                                // OR Show button when the video is about to finish
                                video.addEventListener("timeupdate", function () {
                                    if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                                        continueBtn.style.display = "block";
                                    }
                                });
                            } else {
                                video.pause(); // Pause video when div is out of view (optional)
                                continueBtn.style.display = "none"; // Hide button again if video is not playing
                            }
                        });
                    }, { threshold: 0.5 }); // Adjust threshold for when the video should start
                  
                    observergame2.observe(scenario5Div);
                  });
                  </script>
                  



<div id="wedding-game" class="hidden-section" style="padding-top: 20px;">

  <!-- Add the audio element here -->
  <audio id="game-music2" loop>
   <source src="./audio/game-music-loop-7-145285.mp3" type="audio/mpeg">
   Your browser does not support the audio element.
</audio>

<audio id="drag-sound" src="./audio/sound-effect.mp3"></audio> <!-- Drag sound -->

<div class="text-center" style="padding-top: 20px;">
<h4 style="color: #206E63; font-weight: bold;">Find and match the pairs of your wedding items!</h4>
</div>
 
  <div class="container-fluid" style="height: 100vh;">
        <div class="row h-100">
          <!-- Left large section -->
        <div class="col-8 d-flex align-items-center justify-content-center" id="wedding-box">
            <div class="grid" id="grid">
                <!-- Cards will be generated here -->
            </div>
          </div>
      
          <!-- Right section -->
          <div class="col-4 d-flex flex-column p-0" id="wedd-box">
            <br>
            <div style="height: 10%;" class="timer-text-box d-flex align-items-center gap-2">
                TIME:
            </div>
            <div style="height: 10%;" class="timer d-flex align-items-center gap-2">
                <img src="./img/wedding/timer-colon.png" alt="Colon" class="colon">
                <p id="seconds" class="mb-0">0</p>
                <p id="secs" class="mb-0">s</p>
              </div>
              
            <div style="height: 10%;" class="score my-2 d-flex align-items-center gap-2">
                SCORE:
            </div>
        <div id="wedding-score1">
                0
              </div>
          </div>
        </div>
      </div>

</div>

<div class="modal fade" id="weddingmodala" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-body text-center">
   <br>
        <h3 style="font-weight: normal;">Hey, That was fun!</h3>
        <br>
        <a href="#game-credit2a" id="credit-link2a" class="game-button" data-dismiss="modal" style="width: 20%; height: auto; margin: 0 auto;">continue</a>
     <br> <br>
    </div>
    </div>
  </div>
</div>

<div class="modal fade" id="weddingmodalb" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-body text-center">
   <br>
        <h3 style="font-weight: normal;">Hey, That was fun!</h3>
        <br>
        <a href="#game-credit2b" id="credit-link2b" class="game-button" data-dismiss="modal" style="width: 20%; height: auto; margin: 0 auto;">continue</a>
     <br> <br>
    </div>
    </div>
  </div>
</div>


<div id="game-credit2a" class="hidden-section" style="padding-top: 20px;">

  <div class="row">
    <div class="col-sm-12">
      <div class="info-container2 text-center">
        <img src="./img/narrative.png">
        <div class="overlay-text">

          <br>I’ve got everything I need for my modest wedding. Now, it’s time to start planning and making it all come to life!

               <div class="text-center" style="padding-top: 60px;">
                <a href="#scene5a" id="scene5a-modest" class="game-button">continue</a>
              </div>
            </div>
            
        </div>
        </div>
      
    </div>
    
    </div>

<div id="game-credit2b" class="hidden-section" style="padding-top: 20px;">

  <div class="row">
    <div class="col-sm-12">
      <div class="info-container2 text-center">
        <img src="./img/narrative.png">
        <div class="overlay-text">

          <br>I’ve got everything I need for my dream wedding. Now, it’s time to start planning and making it all come to life!
                  
          <div class="text-center" style="padding-top: 60px;">
            <a href="#scene5b" id="scene5b-dream" class="game-button">continue</a>
          </div>
        </div>
        
    </div>
    </div>
  
</div>

</div>


<script>

document.addEventListener('DOMContentLoaded', () => {
  const grid = document.getElementById('grid');
  const secondsDisplay = document.getElementById('seconds');
  const messageDisplay = document.getElementById('message');
  const weddingGameSection = document.getElementById('wedding-game'); // Get the wedding game section
  let cards = [];
  let flippedCards = [];
  let score = 0;
  let timeLeft = 30; // 30 seconds for testing, adjust for your actual timer (e.g., 600 for 10 minutes)
  let timerInterval;

  
const dragSound2 = document.getElementById('drag-sound'); // Select the drag sound effect

  


  const scoreDisplays = document.querySelectorAll('#wedding-score1, #wedding-score2'); // All elements to show score

  // Update the score in both elements at the start
  scoreDisplays.forEach(display => {
    display.textContent = score;
  });

  // Function to start the timer
  function startTimer() {
      function updateTimer() {
          // Calculate minutes and seconds
          const minutes = Math.floor(timeLeft / 60);  // Get minutes
          const seconds = timeLeft % 60;  // Get remaining seconds
          
          // Display minutes and seconds (e.g., 10:00, 09:59, etc.)
          secondsDisplay.textContent = `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;

          if (timeLeft > 0) {
              timeLeft--; // Decrease time by 1 second
          } else {
              clearInterval(timerInterval); // Stop the timer when it reaches 0
              cards.forEach(card => card.removeEventListener('click', flipCard)); // Disable card clicks after time ends
              checkScore(); // Call the checkScore function after time is up
          }
      }

      // Start the interval to update the timer every second
      timerInterval = setInterval(updateTimer, 1000);
      updateTimer(); // Also call it once immediately to show the timer right away
  }

  // Set up IntersectionObserver to detect when the wedding game section is in view
  const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
          if (entry.isIntersecting) {
              startTimer(); // Start the timer when section is visible
              observer.disconnect(); // Stop observing once the section is in view
          }
      });
  }, { threshold: 0.5 }); // Trigger when at least 50% of the section is visible

  // Observe the wedding game section
  observer.observe(weddingGameSection);

  // Mapping card values to image names
  const imageMapping = {
      1: 'bride-attire.png',
      2: 'buffet.png',
      3: 'cake.png',
      4: 'calendar.png',
      5: 'groom-attire.png',
      6: 'invitation.png',
      7: 'photographer.png',
      8: 'ring.png'
  };

  // Generate card values (pairs)
  const cardValues = [];
  for (let i = 1; i <= 8; i++) {
      cardValues.push(i, i); // Create two of each card
  }
  cardValues.sort(() => 0.5 - Math.random()); // Shuffle the cards

  // Create card elements
  cardValues.forEach(value => {
      const card = document.createElement('div');
      card.classList.add('card-game');
      card.dataset.value = value;

      const img = document.createElement('img');
      img.src = `./img/wedding/${imageMapping[value]}`;
      img.style.display = 'none';
      card.appendChild(img);

      card.addEventListener('click', flipCard);
      grid.appendChild(card);
      cards.push(card);
  });

     // Function to check if all cards are matched
     function allCardsMatched() {
        return cards.every(card => card.classList.contains('hidden'));
    }

  // Flip card function
  function flipCard() {

    dragSound2.play(); // Play the drag sound effect

        if (flippedCards.length < 2 && !this.classList.contains('hidden') && !flippedCards.includes(this)) {
            this.querySelector('img').style.display = 'block';
            flippedCards.push(this);
            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 500);
            }
        }
    }

  // Check for match
  function checkMatch() {
      const [card1, card2] = flippedCards;
      if (card1.dataset.value === card2.dataset.value) {
          card1.classList.add('hidden');
          card2.classList.add('hidden');
          score++; // Increment the score when there's a match
          // Update score in both locations
          scoreDisplays.forEach(display => {
            display.textContent = score; // Update score in all displayed locations
          });

// Check if all cards are matched
if (allCardsMatched()) {
                clearInterval(timerInterval);
                checkScore(); // If all cards are matched, stop the timer and check the score
            }

      } else {
          card1.querySelector('img').style.display = 'none';
          card2.querySelector('img').style.display = 'none';
      }
      flippedCards = [];
  }

  // Check score and determine the option
  function checkScore() {
      if (score <= 4) {
          //optionA();
          const backgroundMusic2 = document.getElementById("game-music2");
          fadeOutMusic(backgroundMusic2, 2000); // Fade out background music
          showModal1(); // Show the completion modal
      } else if (score >= 5) {
         // optionB();
         const backgroundMusic2 = document.getElementById("game-music2");
         fadeOutMusic(backgroundMusic2, 2000); // Fade out background music
         showModal2(); // Show the completion modal
      }
      // Store score in localStorage
      localStorage.setItem('score', score);
      
  }

  function fadeOutMusic(audio, duration) {
    const fadeOutInterval = 50;
    const fadeOutSteps = duration / fadeOutInterval;
    let currentVolume = audio.volume;
    const volumeDecrement = currentVolume / fadeOutSteps;
  
    const fadeOut = setInterval(() => {
      if (currentVolume > 0) {
        currentVolume -= volumeDecrement;
        audio.volume = Math.max(0, currentVolume);
      } else {
        clearInterval(fadeOut);
        audio.pause();
        audio.currentTime = 0;
      }
    }, fadeOutInterval);
  }
  

  function showModal1() {
      const modal = new bootstrap.Modal(document.getElementById("weddingmodala"));
      modal.show();
  }

  function showModal2() {
      const modal = new bootstrap.Modal(document.getElementById("weddingmodalb"));
      modal.show();
  }

  // Option A function
  function optionA() {
      messageDisplay.innerHTML = '';
      
      const img = document.createElement('img');
      img.src = '../img/wedding/modest-wedding.png';
      img.alt = 'Go for modest wedding!';
      img.style.width = '35%';
      img.style.height = 'auto';
      img.style.position = 'absolute';
      img.style.bottom = '50%';
      img.style.right = '80%';
      img.style.transform = 'translate(-50%, -50%)';

      messageDisplay.style.position = 'relative';
      messageDisplay.appendChild(img);
  }

  // Option B function
  function optionB() {
      messageDisplay.innerHTML = '';
      
      const img = document.createElement('img');
      img.src = '../img/wedding/dream-wedding.png';
      img.alt = 'Go for dream wedding!';
      img.style.width = '35%';
      img.style.height = 'auto';
      img.style.position = 'absolute';
      img.style.bottom = '50%';
      img.style.right = '80%';
      img.style.transform = 'translate(-50%, -50%)';

      messageDisplay.style.position = 'relative';
      messageDisplay.appendChild(img);
  }
});



  document.addEventListener("DOMContentLoaded", () => {
   const stickyRow = document.querySelector(".sticky-row");
   const targets2 = [document.querySelector("#scenario5"), document.querySelector("#wedding-game")];
   const footer2 = document.querySelector("#footer");
               
                 const observer2 = new IntersectionObserver(
                   (entries) => {
                     let shouldHideStickyRow = false;
                     let HideFooter = false;
               
                     // Check the visibility of each observed element
                     entries.forEach((entry) => {
                       if (entry.isIntersecting) {
                         shouldHideStickyRow = true;
                         HideFooter = true;
                       }
                     });
               
                     // Toggle the visibility of the sticky-row based on any intersecting element
                     if (shouldHideStickyRow && HideFooter) {
                       stickyRow.style.display = "none";
                       footer2.style.display = "none";
                     } else {
                       stickyRow.style.display = "flex"; // Or your desired display value
                       footer2.style.display = "block";
                     }
                   },
                   { threshold: 0.2 } // Adjust the visibility threshold as needed
                 );
 
   // Observe each target element
   targets2.forEach((target) => {
     if (target) {
       observer2.observe(target);
     }
   });
 });
 
 
 </script>


<div id="scene5a" class="hidden-section" style="padding-top: 20px;">

  <div class="text-center" id="wedd-div">
    <img src="./img/modest-wedding.png" id="wedd-img">
  </div>

     
<div class="text-center" id="choices-div">
  <div id="choices-col">
    <a href="#scene5a-opt1" id="scene5a-link1" class="choice-card" data-happiness="70" data-focus="70" data-connection="70" data-credit-score="33">
      Take the loan 
    </a>
  </div>
  <div id="choices-col">
    <a href="#scene5a-opt2" id="scene5a-link2" class="choice-card" data-happiness="70" data-focus="70" data-connection="70" data-credit-score="31">
      Increase loan amount
     </a>
  </div>
  <div id="choices-col">
    <a href="#scene5a-opt3" id="scene5a-link3" class="choice-card" data-happiness="42" data-focus="42" data-connection="42">
      Postpone Wedding
     </a>
  </div>
</div>
  

        </div>


        <div id="scene5a-opt1" class="hidden-section" style="padding-top: 20px;">
            
            
          <div class="row">
            <div class="col-sm-12">
              <div class="info-container2 text-center">
                <img src="./img/narrative.png">
                <div class="overlay-text">
                 
                  <br>You can comfortably manage the debt without overstraining your budget. As long as you make consistent, on-time payments, your credit score may be minimally affected. Your credit utilization won’t be too high, and your debt-to-income ratio remains manageable.
      
                  <div class="text-center" style="padding-top: 60px;">
                  <a href="#scenario11" id="opt-link38" class="game-button">continue</a>
                </div>
              </div>
              
          </div>
          </div>
        
      </div>
      
      </div>


      <div id="scene5a-opt2" class="hidden-section" style="padding-top: 20px;">
      
      
        <div class="row">
          <div class="col-sm-12">
            <div class="info-container2 text-center">
              <img src="./img/narrative.png">
              <div class="overlay-text">
               
                <br>You decide to increase the loan to B$20,000 to include additional elements for the wedding, such as a more elaborate reception or more luxurious vendors. The extra loan increases your debt load and could lead to higher monthly payments (around B$502/month), straining your finances. You also run the risk of overspending and increasing your credit utilization, which could lead to a significant drop in your credit score.
    
                <div class="text-center" style="padding-top: 60px;">
                <a href="#scenario11" id="opt-link39" class="game-button">continue</a>
              </div>
            </div>
            
        </div>
        </div>
      
    </div>
    
    </div>


    <div id="scene5a-opt3" class="hidden-section" style="padding-top: 20px;">
      
      
      <div class="row">
        <div class="col-sm-12">
          <div class="info-container2 text-center">
            <img src="./img/narrative.png">
            <div class="overlay-text">
             
              <br><br>You decide to delay the wedding and continue saving money, which allows you to avoid any loans entirely. No loan means no impact on your credit score, and you’ll also avoid the potential strain of debt after the wedding.
  
              <div class="text-center" style="padding-top: 60px;">
              <a href="#scenario11" id="opt-link40" class="game-button">continue</a>
            </div>
          </div>
          
      </div>
      </div>
    
  </div>
  
  </div>



  <div id="scene5b" class="hidden-section" style="padding-top: 20px;">

    <div class="text-center" id="wedd-div">
      <img src="./img/dream-wedding.png" id="wedd-img">
    </div>

          
  <div class="text-center" id="choices-div">
    <div id="choices-col">
      <a href="#scene5b-opt1" id="scene5b-link1" class="choice-card" data-happiness="70" data-focus="70" data-connection="70" data-credit-score="31">
        Take the loan 
      </a>
    </div>
    <div id="choices-col">
      <a href="#scene5b-opt2" id="scene5b-link2" class="choice-card" data-happiness="70" data-focus="70" data-connection="70" data-credit-score="33">
        Decrease loan amount 
       </a>
    </div>
    <div id="choices-col">
      <a href="#scene5b-opt3" id="scene5b-link3" class="choice-card" data-happiness="42" data-focus="70" data-connection="70" data-credit-score="29">
        Use Credit Card
       </a>
    </div>
  </div>
    
  
          </div>
  
  
          <div id="scene5b-opt1" class="hidden-section" style="padding-top: 20px;">
              
              
            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">
                   
                    <br>You get everything you want: a grand wedding, a beautiful venue, an elegant dress, and all the frills. However, you will face high monthly payments, which could cause financial strain after the wedding. Your credit utilization increases significantly, which could lower your credit score temporarily, especially if you use a lot of your available credit to cover wedding-related costs. Also, the loan size increases your debt-to-income ratio, which can have a negative effect on your credit score.
        
                    <div class="text-center" style="padding-top: 60px;">
                    <a href="#scenario11" id="opt-link41" class="game-button">continue</a>
                  </div>
                </div>
                
            </div>
            </div>
          
        </div>
        
        </div>
  
  
        <div id="scene5b-opt2" class="hidden-section" style="padding-top: 20px;">
        
        
          <div class="row">
            <div class="col-sm-12">
              <div class="info-container2 text-center">
                <img src="./img/narrative.png">
                <div class="overlay-text">
                 
                  <br>You decide to trim down the wedding plans slightly (perhaps reducing the guest list, opting for a smaller venue, or cutting back on the catering). You take a smaller loan of B$25,000 instead of B$40,000. With a smaller loan and manageable monthly payments (B$439/month), your credit score will only see a minor dip. The debt-to-income ratio remains lower, and it’s easier to make consistent, timely payments.
      
                  <div class="text-center" style="padding-top: 60px;">
                  <a href="#scenario11" id="opt-link42" class="game-button">continue</a>
                </div>
              </div>
              
          </div>
          </div>
        
      </div>
      
      </div>
  
  
      <div id="scene5b-opt3" class="hidden-section" style="padding-top: 20px;">
        
        
        <div class="row">
          <div class="col-sm-12">
            <div class="info-container2 text-center">
              <img src="./img/narrative.png">
              <div class="overlay-text">
               
                <br><br>You decide to charge the wedding costs on a high-interest credit card, believing it will be easier to pay off over time. Using a large portion of your available credit will cause your credit utilization ratio to spike, significantly damaging your credit score. If you don’t pay off the credit card quickly, the interest charges can accumulate, adding to your debt.
    
                <div class="text-center" style="padding-top: 60px;">
                <a href="#scenario11" id="opt-link43" class="game-button">continue</a>
              </div>
            </div>
            
        </div>
        </div>
      
    </div>
    
    </div>


                <!--End of scenario 5-->


                <!--Scenario 11-->

                <div id="scenario11" class="hidden-section" style="padding-top: 20px;">

                  
      
        <br>
        <h4 class="text-center" style="font-weight: normal; font-style: italic;">You visit the Home Showcase event where various banks present their loan products.<br>You decided to purchase a cozy house with a large backyard, ensuring your family would have a place to grow, laugh, and make countless memories.<br>You ask for information and submits applications to secure the best mortgage rate. Enquiries on your credit report will be made as part of loan application process.</h4>

        <br>

        <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>

        <div>
      
          <br>
          
          <a href="#scene11-opt1" id="scene11-link1" class="choice-card" data-happiness="75" data-focus="75" data-connection="75" data-credit-score="27" style="text-decoration: none; color: #000000;">
          <div class="card cf-card1">
            <img src="./img/cf-green1.png" class="card-img-top" style="width: 100%; height: auto; margin: 0 auto;">
          </div>
          </a>
       <br>
       <a href="#scene11-opt2" id="scene11-link2" class="choice-card" data-happiness="75" data-focus="75" data-connection="75" data-credit-score="27" style="text-decoration: none; color: #000000;">
          <div class="card cf-card2">
            <img src="./img/cf-green2.png" class="card-img-top" style="width: 100%; height: auto; margin: 0 auto;">
          </div>
          </a>
          <br>
          <a href="#scene11-opt3" id="scene11-link3" class="choice-card" data-happiness="40" data-focus="40" style="text-decoration: none; color: #000000;">
             <div class="card cf-card3">
              <img src="./img/cf-green3.png" class="card-img-top" style="width: 100%; height: auto; margin: 0 auto;">
             </div>
             </a>
         </div>

       <div>
        
       </div>

            
              
              </div>



              <div id="scene11-opt1" class="hidden-section" style="padding-top: 20px;">
            
            
                <div class="row">
                  <div class="col-sm-12">
                    <div class="info-container2 text-center">
                      <img src="./img/narrative.png">
                      <div class="overlay-text">
                       
                        <br><br>A hard inquiry will appear on your credit report which may cause a slight dip in your credit score
            
                        <div class="text-center" style="padding-top: 60px;">
                        <a href="#scenario12" id="opt-link16" class="game-button">continue</a>
                      </div>
                    </div>
                    
                </div>
                </div>
              
            </div>
            
            </div>


            <div id="scene11-opt2" class="hidden-section" style="padding-top: 20px;">
            
            
              <div class="row">
                <div class="col-sm-12">
                  <div class="info-container2 text-center">
                    <img src="./img/narrative.png">
                    <div class="overlay-text">
                     
                      <br><br>You can request multiple offers from different lenders where they perform hard inquiry to check your creditworthiness. These inquiries cause a small temporary dip in the credit score and are recorded in the credit report.<br><br>However, some lenders could interpret multiple inquiries as signs of financial distress, leading them to view the applicant as a higher risk for loan approval.
          
                      <div class="text-center" style="padding-top: 60px;">
                      <a href="#scenario6" id="opt-link17" class="game-button">continue</a>
                    </div>
                  </div>
                  
              </div>
              </div>
            
          </div>
          
          </div>


          <div id="scene11-opt3" class="hidden-section" style="padding-top: 20px;">
            
            
            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">
                   
                    <br><br>No inquiry is made. No impact on your credit score, but you miss out on exploring mortgage offers. This could delay your home-buying process but will keep your credit report intact for the moment.
        
                    <div class="text-center" style="padding-top: 60px;">
                    <a href="#scenario12" id="opt-link18" class="game-button">continue</a>
                  </div>
                </div>
                
            </div>
            </div>
          
        </div>
        
        </div>


                <!--End of scenario 11-->



                <!--Scenario 6-->

                <div id="scenario6" class="hidden-section" style="padding-top: 20px;">


                  <h4 class="text-center" style="font-weight: normal; font-style: italic;">An unexpected expense arises, your car broke down and you need to decide how to pay it.</h4>
                  <h4 class="text-center" style="font-weight: normal; font-style: italic;">Emergency Expense: B$1,500</h4></h4>
          
                  <br>
          
                  <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>
          
                  <div class="container">
                    <div class="row">
                        <div class="col-sm-4 hovertest" style="padding-top: 40px; margin: 5px auto;">
                          <a href="#scene6-opt1" id="scene6-link1" style="text-decoration: none; color: #000000;" class="choice-card" data-happiness="70" data-focus="70" data-credit-score="22"> 
                            <div class="card my-card2">
                           
                           <br>
                          <img src="./img/creditcard.png" class="card-img-top" style="width: 80%; height: auto; margin: 0 auto;">
                        </div>
                      </a>
                    </div>
                
                    <div class="col-sm-4 hovertest" style="padding-top: 40px; margin: 5px auto;">  
                      <a href="#scene6-opt2" id="scene6-link2" style="text-decoration: none; color: #000000;" class="choice-card" data-happiness="70" data-focus="70" data-credit-score="24">  
                        <div class="card my-card2">
                          
                           <br>
                          <img src="./img/financing.png" class="card-img-top" style="width: 80%; height: auto; margin: 0 auto;">
                          </div>
                        </a>
                        </div>
          
                        <div class="col-sm-4 hovertest" style="padding-top: 40px; margin: 5px auto;">
                          <a href="#scene6-opt3" id="scene6-link3" style="text-decoration: none; color: #000000;" class="choice-card" data-happiness="70" data-focus="80"> 
                          <div class="card my-card2">
                            
                             <br>
                            <img src="./img/saving.png" class="card-img-top" style="width: 80%; height: auto; margin: 0 auto;">
                            </div>
                          </a>
                          </div>
                
                    </div>
                 </div>
          
            </div>


            <div id="scene6-opt1" class="hidden-section" style="padding-top: 20px;">
            
            
              <div class="row">
                <div class="col-sm-12">
                  <div class="info-container2 text-center">
                    <img src="./img/narrative.png">
                    <div class="overlay-text">
                     
                      <br><br>Your credit utilization spikes. This drastically lowers your Credit Score due to high credit usage and potential risk of default.
          
                      <div class="text-center" style="padding-top: 60px;">
                      <a href="#scenario9" id="opt-link19" class="game-button">continue</a>
                    </div>
                  </div>
                  
              </div>
              </div>
            
          </div>
          
          </div>


          <div id="scene6-opt2" class="hidden-section" style="padding-top: 20px;">
          
          
            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">
                   
                    <br><br>Your overall debt-to-income ratio increases, but the loan interest rate is lower than your credit card's. Your Credit Score drops, but this is better than overloading your credit card.
        
                    <div class="text-center" style="padding-top: 60px;">
                    <a href="#scenario9" id="opt-link20" class="game-button">continue</a>
                  </div>
                </div>
                
            </div>
            </div>
          
        </div>
        
        </div>


        <div id="scene6-opt3" class="hidden-section" style="padding-top: 20px;">
          
          
          <div class="row">
            <div class="col-sm-12">
              <div class="info-container2 text-center">
                <img src="./img/narrative.png">
                <div class="overlay-text">
                 
                  <br><br>No new debt and you don't impact your credit utilization. You have shown a healthy financial standing by maintaining a reasonable emergency fund and avoided unnecessary debt.
      
                  <div class="text-center" style="padding-top: 60px;">
                  <a href="#scenario9" id="opt-link21" class="game-button">continue</a>
                </div>
              </div>
              
          </div>
          </div>
        
      </div>
      
      </div>


                <!--End of scenario 6-->


                <!--Scenario 12-->

                <div id="scenario12" class="hidden-section" style="padding-top: 20px;">

                                 
      
        <br><br><br><br>
        <h4 class="text-center" style="font-weight: normal; font-style: italic;">You are given the option to request a credit card limit increase.</h4>

        <br><br><br>

        <h2 class="text-center" style="font-weight:bold;">How will you use this opportunity?</h2>

        <div>
      
          <br><br>
          
          <a href="#scene12-opt1" id="scene12-link1" class="choice-card" data-happiness="80" data-credit-score="50" style="text-decoration: none; color: #000000;">
          <div class="card limit1">
            <img src="./img/limit-green1.png" class="card-img-top" style="width: 100%; height: auto; margin: 0 auto;">
          </div>
          </a>
       <br>
       <a href="#scene12-opt2" id="scene12-link2" class="choice-card" data-happiness="80" style="text-decoration: none; color: #000000;">
          <div class="card limit2">
            <img src="./img/limit-green2.png" class="card-img-top" style="width: 100%; height: auto; margin: 0 auto;">
          </div>
          </a>
         </div>

            </div>


            <div id="scene12-opt1" class="hidden-section" style="padding-top: 20px;">
            
            
              <div class="row">
                <div class="col-sm-12">
                  <div class="info-container2 text-center">
                    <img src="./img/narrative.png">
                    <div class="overlay-text">
                     
                      <br><br>Requesting a credit limit increase can improve your credit score by reducing your utilization if you don't increase your spending
          
                      <div class="text-center" style="padding-top: 60px;">
                      <a href="#scenario9" id="opt-link22" class="game-button">continue</a>
                    </div>
                  </div>
                  
              </div>
              </div>
            
          </div>
          
          </div>


          <div id="scene12-opt2" class="hidden-section" style="padding-top: 20px;">
          
          
            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">
                   
                    <br><br>If you increase your spending along with your limit, it can still increase your utilization and hurt your score
        
                    <div class="text-center" style="padding-top: 60px;">
                    <a href="#scenario9" id="opt-link23" class="game-button">continue</a>
                  </div>
                </div>
                
            </div>
            </div>
          
        </div>
        
        </div>

                <!--End of scenario 12-->


                <!--Scenario 9-->


            <div id="scenario9" class="text-center hidden-section">
              <video id="scenario-video3" style="width: 100%; height: auto; display: block;">
                  <source src="./video/business.mp4" type="video/mp4">
              </video>
            
              <!-- Continue button (hidden initially) -->
              <div id="game3" class="text-center" style="padding-top: 80px;">
                  <a href="#business-game" id="game-link3" class="game-button">continue</a>
              </div>
            </div>
            
            <script>
            document.addEventListener("DOMContentLoaded", function () {
              const video = document.getElementById("scenario-video3");
              const scenario9Div = document.getElementById("scenario9");
              const continueBtn = document.getElementById("game3");
            
              const observergame3 = new IntersectionObserver(entries => {
                  entries.forEach(entry => {
                      if (entry.isIntersecting) {
                          video.play(); // Play video when div is visible
            
                          // Show button after 5 seconds
                          setTimeout(() => {
                              continueBtn.style.display = "block";
                          }, 5000);
            
                          // OR Show button when the video is about to finish
                          video.addEventListener("timeupdate", function () {
                              if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                                  continueBtn.style.display = "block";
                              }
                          });
                      } else {
                          video.pause(); // Pause video when div is out of view (optional)
                          continueBtn.style.display = "none"; // Hide button again if video is not playing
                      }
                  });
              }, { threshold: 0.5 }); // Adjust threshold for when the video should start
            
              observergame3.observe(scenario9Div);
            });
            </script>
            


              <div id="business-game" class="hidden-section" style="padding-top: 20px;">

                <!-- Add the audio element here -->
                <audio id="game-music3" loop>
                  <source src="./audio/game-music-loop-7-145285.mp3" type="audio/mpeg">
                  Your browser does not support the audio element.
              </audio>
              <br>
              <div class="text-center">
                      <br>
                        <h4 class="text-center" style="font-weight: bold; color: #206E63;">
                          Choose 5 trendy businesses to explore and find the one matches your passion, skills and what you think the market needs.
                          Let's see which business is your perfect fit. 
                            </h4>
              </div>
                        <div class="text-center" style="padding-top: 20px;">
              
                          <audio id="click-sound" src="./audio/sound-effect.mp3" preload="auto"></audio>
              
                            <table>
                                <tbody>
                                  <tr>
                                    <td class="tooltip-container">
                                        <img src="./img/business-game/before (1).png" alt="Box" data-item1="1" onclick="checkItem1(1)">
                                        <span class="tooltip-text">Burger</span>
                                    </td>
                                    <td class="tooltip-container">
                                        <img src="./img/business-game/before (2).png" alt="Box" data-item1="2" onclick="checkItem1(2)">
                                        <span class="tooltip-text">Homemade Desserts</span>
                                    </td>
                                    <td class="tooltip-container">
                                        <img src="./img/business-game/before (3).png" alt="Box" data-item1="3" onclick="checkItem1(3)">
                                        <span class="tooltip-text">Nasi Katok</span>
                                    </td>
                                    <td class="tooltip-container">
                                        <img src="./img/business-game/before (4).png" alt="Box" data-item1="4" onclick="checkItem1(4)">
                                        <span class="tooltip-text">Night Market Grills</span>
                                    </td>
                                </tr>
                                
                                    <tr>
                                    <td class="tooltip-container">
                                        <img src="./img/business-game/before (5).png" alt="Box" data-item1="5" onclick="checkItem1(5)">
                                        <span class="tooltip-text">Pizza</span>
                                      </td>
                                      <td class="tooltip-container">
                                        <img src="./img/business-game/before (6).png" alt="Box" data-item1="6" onclick="checkItem1(6)">
                                        <span class="tooltip-text">Coffee Cafe</span>
                                      </td>
                                      <td class="tooltip-container">
                                        <img src="./img/business-game/before (7).png" alt="Box" data-item1="7" onclick="checkItem1(7)">
                                        <span class="tooltip-text">Runner Deliveries</span>
                                      </td>
                                      <td class="tooltip-container">
                                        <img src="./img/business-game/before (8).png" alt="Box" data-item1="8" onclick="checkItem1(8)">
                                        <span class="tooltip-text">Photography</span>
                                      </td>
                                    </tr>
                                    <tr>
                                      <td class="tooltip-container">
                                        <img src="./img/business-game/before (9).png" alt="Box" data-item1="9" onclick="checkItem1(9)">
                                        <span class="tooltip-text">Art</span>
                                      </td>
                                      <td class="tooltip-container">
                                        <img src="./img/business-game/before (10).png" alt="Box" data-item1="10" onclick="checkItem1(10)">
                                        <span class="tooltip-text">Night Market Drinks</span>
                                      </td>
                                      <td class="tooltip-container">
                                        <img src="./img/business-game/before (11).png" alt="Box" data-item1="11" onclick="checkItem1(11)">
                                        <span class="tooltip-text">Jewellery crafts</span>
                                      </td>
                                      <td class="tooltip-container">
                                        <img src="./img/business-game/before (12).png" alt="Box" data-item1="12" onclick="checkItem1(12)">
                                        <span class="tooltip-text">Tudong Hijab</span>
                                      </td>
                                    </tr>
                                </tbody>
                            </table>
                            
                        </div>
                     
              </div>
              <div class="modal fade" id="gameresult" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
                  <div class="modal-content">
                    <div class="modal-body text-center">
                 <br>
                      <h3 style="font-weight: normal;">Well Done! Good Choice! You did great!</h3>
                      <br>
                      <a href="#game-credit3" id="credit-link3" class="game-button" data-dismiss="modal">continue</a>
                   <br> <br>
                  </div>
                  </div>
                </div>
              </div>
              
              
              <div id="game-credit3" class="hidden-section" style="padding-top: 20px;">

                <div class="row">
                  <div class="col-sm-12">
                    <div class="info-container2 text-center">
                      <img src="./img/narrative.png">
                      <div class="overlay-text">

                        
                        <br><br>Awesome job! You've found your perfect business match!
                        This opportunity aligns perfectly with your passion, skills,
                        and market demand. Ready to take the next step?

              
                             <div class="text-center" style="padding-top: 60px;">
                              <a href="#scene9a" id="scene9alink" class="game-button">continue</a>
                            </div>
                          </div>
                          
                      </div>
                      </div>
                    
                  </div>
                  
                  </div>
              
              <script>
                document.addEventListener("DOMContentLoaded", () => {
                 const stickyRow = document.querySelector(".sticky-row");
                 const targets3 = [document.querySelector("#scenario9"), document.querySelector("#business-game")];
                 const footer3 = document.querySelector("#footer");
               
               const observer3 = new IntersectionObserver(
                 (entries) => {
                   let shouldHideStickyRow = false;
                   let HideFooter = false;
             
                   // Check the visibility of each observed element
                   entries.forEach((entry) => {
                     if (entry.isIntersecting) {
                       shouldHideStickyRow = true;
                       HideFooter = true;
                     }
                   });
             
                   // Toggle the visibility of the sticky-row based on any intersecting element
                   if (shouldHideStickyRow && HideFooter) {
                     stickyRow.style.display = "none";
                     footer3.style.display = "none";
                   } else {
                     stickyRow.style.display = "flex"; // Or your desired display value
                     footer3.style.display = "block";
                   }
                 },
                 { threshold: 0.2 } // Adjust the visibility threshold as needed
               );
               
                 // Observe each target element
                 targets3.forEach((target) => {
                   if (target) {
                     observer3.observe(target);
                   }
                 });
               });
               
               
               </script>


              <div id="scene9a" class="hidden-section" style="padding-top: 20px;">

<br>
                <h4 class="text-center" style="font-weight: normal; font-style: italic;">You need extra funds to cover the initial costs of renting the space, buying equipment and hiring staff.</h4>
        
                <br>
        
                <h2 class="text-center" style="font-weight:bold;">How would you fund your business?</h2>
        
                <br>

                <div style="display: flex; flex-direction: column; align-items: center; gap: 5px;">
                  <!-- First row -->
                  <div class="text-center" style="display: flex; gap: 100px;">
                      <a href="#scene9a-opt1" id="scene9a-link1" class="choice-card" data-happiness="65" data-focus="85">
                        <div class="fund1">
                        </div>
                      </a>
                      <a href="#scene9a-opt2" id="scene9a-link2" class="choice-card" data-happiness="65" data-focus="85" data-credit-score="20">
                        <div class="fund2">
                        </div>
                      </a>
                  </div>
                  <!-- Second row -->
                  <div class="text-center" style="display: flex; gap: 100px;">
                   
                      <a href="#scene9a-opt3" id="scene9a-link3" class="choice-card" data-happiness="85" data-focus="85" data-connection="40">
                        <div class="fund3">
                        </div>
                      </a>
                      <a href="#scene9a-opt4" id="scene9a-link4" class="choice-card" data-happiness="65" data-focus="65">
                        <div class="fund4">
                        </div>
                      </a>
                  </div>
                </div>
                
              
               </div>
        


              <div id="scene9a-opt1" class="hidden-section" style="padding-top: 20px;">
            
            
                <div class="row">
                  <div class="col-sm-12">
                    <div class="info-container2 text-center">
                      <img src="./img/narrative.png">
                      <div class="overlay-text">
                       
                        <br><br>No debt means no risk of default, so your credit score won't be directly impacted. However, limited capital may restrict your ability to expand quickly, and personal savings might be drained quickly, leaving you with fewer funds for other expenses.
            
                        <div class="text-center" style="padding-top: 60px;">
                        <a href="#scenario10" id="opt-link24" class="game-button">continue</a>
                      </div>
                    </div>
                    
                </div>
                </div>
              
            </div>
            
            </div>
  
  
            <div id="scene9a-opt2" class="hidden-section" style="padding-top: 20px;">
            
            
              <div class="row">
                <div class="col-sm-12">
                  <div class="info-container2 text-center">
                    <img src="./img/narrative.png">
                    <div class="overlay-text">
                     
                      <br><br>When you apply for a loan, an inquiry on your credit report can lower your score temporarily however if you miss payments, your credit score will drop due to higher credit utilization
          
                      <div class="text-center" style="padding-top: 60px;">
                      <a href="#scenario10" id="opt-link25" class="game-button">continue</a>
                    </div>
                  </div>
                  
              </div>
              </div>
            
          </div>
          
          </div>


          <div id="scene9a-opt3" class="hidden-section" style="padding-top: 20px;">
            
            
            <div class="row">
              <div class="col-sm-12">
                <div class="info-container2 text-center">
                  <img src="./img/narrative.png">
                  <div class="overlay-text">
                   
                    <br><br>Since this is not a formal loan through a bank or credit institution, it typically won't affect your credit score. However, if you don't repay the loan or manage the relationship poorly, it could cause personal issues.
        
                    <div class="text-center" style="padding-top: 60px;">
                    <a href="#scenario10" id="opt-link26" class="game-button">continue</a>
                  </div>
                </div>
                
            </div>
            </div>
          
        </div>
        
        </div>


        <div id="scene9a-opt4" class="hidden-section" style="padding-top: 20px;">
        
        
          <div class="row">
            <div class="col-sm-12">
              <div class="info-container2 text-center">
                <img src="./img/narrative.png">
                <div class="overlay-text">
                 
                  <br><br>Applying for business loan might require for personal guarantees or collateral. 
                  If you personally guarantee  the loan or provide collateral, your personal credit may be at risk if the business defaults. Defaults or late payments could negatively affect both business and personal credit.
      
                  <div class="text-center" style="padding-top: 60px;">
                  <a href="#scenario10" id="opt-link27" class="game-button">continue</a>
                </div>
              </div>
              
          </div>
          </div>
        
      </div>
      
      </div>


                <!--End of scenario 9-->


                <!--Scenario 10-->

                <div id="scenario10" class="hidden-section"  style="padding-top: 20px;" style="padding-top: 20px ;">

                          <br><br><br><br>
                         
                          <div class="text-center" style="padding-top: 80px;">
                            <a href="" id="" data-toggle="modal" data-target="#exampleModal">
                              <img src="./img/notification.png" class="card-img-top" style="width: 26%; height: auto; margin: 0 auto;" id="email-img">
                            </a>
                          </div>
                          
                
                </div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content" id="open-email" style="background-color: transparent; border: none;">
      <div class="modal-body">
   
        <div class="container">
          <div class="row">
          <div id="accept-email">
      
            <a href="#scene10" id="scene10link" class="accept-button" data-dismiss="modal">continue</a>
          </div>
        </div>
      </div>
     
    </div>
    </div>
  </div>
</div>


<div id="scene10" class="hidden-section" style="padding-top: 20px;">


  <br><br><br><br>
  <h4 class="text-center" style="font-weight: normal; font-style: italic;">You have monthly phone bills to pay. Every month, you decide when and how to pay them</h4>

  <br><br><br>

  <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>


 <div>
        
  <div class="text-center" id="choices-div">
    <div id="choices-col">
    <a href="#scene10-opt1" id="scene10-link1" class="choice-card" data-happiness="88">
      Settle bills on-time
    </a>
  </div>
    <div id="choices-col">
    <a href="#scene10-opt2" id="scene10-link2" class="choice-card" data-happiness="60" data-focus="60">
      Ignore the bills for now
     </a>
  </div>
</div>
  
 </div>


</div>


<div id="scene10-opt1" class="hidden-section" style="padding-top: 20px;">
            
            
  <div class="row">
    <div class="col-sm-12">
      <div class="info-container2 text-center">
        <img src="./img/narrative.png">
        <div class="overlay-text">
         
          <br><br>With consistent on-time payments, your credit report is mostly clean. Small delays can still have lasting effects on your credit history and your ability to secure future loans.

          <div class="text-center" style="padding-top: 60px;">
          <a href="#scene10tips" id="opt-link28" class="game-button">continue</a>
        </div>
      </div>
      
  </div>
  </div>

</div>

</div>


<div id="scene10-opt2" class="hidden-section" style="padding-top: 20px;">


<div class="row">
  <div class="col-sm-12">
    <div class="info-container2 text-center">
      <img src="./img/narrative.png">
      <div class="overlay-text">
       
        <br><br>You've decided to delay your payment which causes your payment history is now marked as "late" in the eyes of your credit report. They won't cause your score to drop, but they could still harm your reputation with future lenders.

        <div class="text-center" style="padding-top: 60px;">
        <a href="#scene10tips" id="opt-link29" class="game-button">continue</a>
      </div>
    </div>
    
</div>
</div>

</div>

</div>

<div id="scene10tips" class="text-center hidden-section">
  <video id="tips10-info" style="width: 100%; height: auto; display: block;">
      <source src="./video/10tips.mp4" type="video/mp4">
  </video>

  <!-- Continue button (hidden initially) -->
  <div id="tips10" class="text-center" style="padding-top: 20px;">
      <a href="#scenario7" id="tip10-link" class="game-button">continue</a>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const video = document.getElementById("tips10-info");
  const scenario10Div = document.getElementById("scene10tips");
  const continueBtn = document.getElementById("tips10");

  const observer_tip1 = new IntersectionObserver(entries => {
      entries.forEach(entry => {
          if (entry.isIntersecting) {
              video.play(); // Play video when div is visible

              // Show button after 5 seconds
              setTimeout(() => {
                  continueBtn.style.display = "block";
              }, 4000);

              // OR Show button when the video is about to finish
              video.addEventListener("timeupdate", function () {
                  if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                      continueBtn.style.display = "block";
                  }
              });
          } else {
              video.pause(); // Pause video when div is out of view (optional)
              continueBtn.style.display = "none"; // Hide button again if video is not playing
          }
      });
  }, { threshold: 0.5 }); // Adjust threshold for when the video should start

  observer_tip1.observe(scenario10Div);
});
</script>

          <script>
                document.addEventListener("DOMContentLoaded", () => {
                 const stickyRow = document.querySelector(".sticky-row");
                 const footer = document.querySelector("#footer");
                 const targets = [document.querySelector("#scene10tips")];
               
                 const tip_observer1 = new IntersectionObserver(
                   (entries) => {
                     let shouldHideStickyRow = false;
                     let HideFooter = false;
               
                     // Check the visibility of each observed element
                     entries.forEach((entry) => {
                       if (entry.isIntersecting) {
                         shouldHideStickyRow = true;
                         HideFooter = true;
                       }
                     });
               
                     // Toggle the visibility of the sticky-row based on any intersecting element
                     if (shouldHideStickyRow && HideFooter) {
                       stickyRow.style.display = "none";
                       footer.style.display = "none";
                     } else {
                       stickyRow.style.display = "flex"; // Or your desired display value
                       footer.style.display = "block";
                     }
                   },
                   { threshold: 0.2 } // Adjust the visibility threshold as needed
                 );
               
                 // Observe each target element
                 targets.forEach((target) => {
                   if (target) {
                    tip_observer1.observe(target);
                   }
                 });
               });
               
               
               </script>

            
            



                <!--End of scenario 10-->



                <!--Scenario 7-->

                <div id="scenario7" class="hidden-section" style="padding-top: 20px;">

                  <br><br><br><br>
                  <h4 class="text-center" style="font-weight: normal; font-style: italic;">After a few months of managing your credit, you decided to check your credit report and found incorrect information reported regarding your payment behaviour.</h4>
                
                  <br><br><br>
                
                  <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>
                
                
                 <div>
                        
                  <div class="text-center" id="choices-div">
                    <div id="choices-col">
                    <a href="#scene7-opt1" id="scene7-link1" class="choice-card" data-happiness="55" data-focus="55" data-credit-score="16">
                     Ignore any errors or fraud
                    </a>
                  </div>
                    <div id="choices-col">
                    <a href="#scene7-opt2" id="scene7-link2" class="choice-card" data-happiness="90" data-focus="90" data-credit-score="50">
                      Immediately fix the errors
                     </a>
                  </div>
                </div>
                  
                 </div>

                </div>


                <div id="scene7-opt1" class="hidden-section" style="padding-top: 20px;">


                  <div class="row">
                    <div class="col-sm-12">
                      <div class="info-container2 text-center">
                        <img src="./img/narrative.png">
                        <div class="overlay-text">
                         
                         The mistake goes unchecked, lowering your Credit Score. It reflects poor credit monitoring habits.
              
                          <div class="text-center" style="padding-top: 60px;">
                          <a href="#scenario13" id="opt-link30" class="game-button">continue</a>
                        </div>
                      </div>
                      
                  </div>
                  </div>
                
              </div>
            
            </div>
          
            <div id="scene7-opt2" class="hidden-section" style="padding-top: 20px;">
          
          
              <div class="row">
                <div class="col-sm-12">
                  <div class="info-container2 text-center">
                    <img src="./img/narrative.png">
                    <div class="overlay-text">
                     
                      <br><br>You successfully have an incorrect late payment removed from your report. Regularly checking and correcting errors or fraud boosts your score by removing any inaccuracies.
          
                      <div class="text-center" style="padding-top: 60px;">
                      <a href="#scenario13" id="opt-link31" class="game-button">continue</a>
                    </div>
                  </div>
                  
              </div>
              </div>
            
          </div>
          
          </div>

                <!--End of scenario 7-->


                   <!--Scenario 13-->

                   <div id="scenario13" class="hidden-section" style="padding-top: 20px;">

                    <br><br><br><br>
                    <h4 class="text-center" style="font-weight: normal; font-style: italic;">You've applied for a new credit card, a car loan and a mortgage in the past two months. All of these applications are pending and you're getting worried about how they will impact your credit report and credit score.</h4>
                  
                    <br><br><br>
                  
                    <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>
                  
                  
                   <div>
                          
                    <div class="text-center" id="choices-div">
                      <div id="choices-col">
                      <a href="#scene13-opt1" id="scene13-link1" class="choice-card" data-happiness="92">
                       Inquire about your pending applications
                      </a>
                    </div>
                      <div id="choices-col">
                      <a href="#scene13-opt2" id="scene13-link2" class="choice-card" data-happiness="92" data-credit-score="55">
                        Cancel some pending applications
                       </a>
                    </div>
                      <div id="choices-col">
                      <a href="#scene13-opt3" id="scene13-link3" class="choice-card" data-happiness="50" data-credit-score="14">
                        Wait for pending decisions
                        to be finalised
                       </a>
                    </div>
                  </div>
                    
                   </div>

                   
                  </div>
  
  
                  <div id="scene13-opt1" class="hidden-section" style="padding-top: 20px;">
  
  
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="info-container2 text-center">
                          <img src="./img/narrative.png">
                          <div class="overlay-text">
                           
                            Inquiring about your own pending
                            applications will not affect your credit score,
                            this includes checking your pending
                            applications or simply reviewing your
                            credit report. So, feel free to check your
                            credit report as it is a safe way to stay informed
                            about your credit activity!
                
                            <div class="text-center" style="padding-top: 60px;">
                            <a href="#scene13tips" id="opt-link32" class="game-button">continue</a>
                          </div>
                        </div>
                        
                    </div>
                    </div>
                  
                </div>
              
              </div>
            
              <div id="scene13-opt2" class="hidden-section" style="padding-top: 20px;">
            
            
                <div class="row">
                  <div class="col-sm-12">
                    <div class="info-container2 text-center">
                      <img src="./img/narrative.png">
                      <div class="overlay-text">
                       
                        <br><br>With multiple pending applications,
                        you decided to cancel some of them,
                        your status of application will be updated
                        in the credit report, which could help improve
                        your score if you were concerned about
                        too many inquiries. However, the impact isn't immediate.
            
                        <div class="text-center" style="padding-top: 60px;">
                        <a href="#scene13tips" id="opt-link33" class="game-button">continue</a>
                      </div>
                    </div>
                    
                </div>
                </div>
              
            </div>
            
            </div>

            <div id="scene13-opt3" class="hidden-section" style="padding-top: 20px;">
            
            
              <div class="row">
                <div class="col-sm-12">
                  <div class="info-container2 text-center">
                    <img src="./img/narrative.png">
                    <div class="overlay-text">
                     
                      <br><br>While waiting for decisions, 
                      you could face a slight drop in your credit score,
                       especially with multiple pending
                       applications and they were made in a short period
                       of time.
          
                      <div class="text-center" style="padding-top: 60px;">
                      <a href="#scene13tips" id="opt-link34" class="game-button">continue</a>
                    </div>
                  </div>
                  
              </div>
              </div>
            
          </div>
          
          </div>


          <div id="scene13tips" class="text-center hidden-section">
            <video id="tips13-info" style="width: 100%; height: auto; display: block;">
                <source src="./video/13tips.mp4" type="video/mp4">
            </video>
          
            <!-- Continue button (hidden initially) -->
            <div id="tips13" class="text-center" style="padding-top: 20px;">
                <a href="#scenario15" id="tip13-link" class="game-button">continue</a>
            </div>
          </div>
          
          <script>
          document.addEventListener("DOMContentLoaded", function () {
            const video = document.getElementById("tips13-info");
            const scenario13Div = document.getElementById("scene13tips");
            const continueBtn = document.getElementById("tips13");
          
            const observer_tip2 = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        video.play(); // Play video when div is visible
          
                        // Show button after 5 seconds
                        setTimeout(() => {
                            continueBtn.style.display = "block";
                        }, 4000);
          
                        // OR Show button when the video is about to finish
                        video.addEventListener("timeupdate", function () {
                            if (video.currentTime >= video.duration - 2) { // Show button 2 seconds before the end
                                continueBtn.style.display = "block";
                            }
                        });
                    } else {
                        video.pause(); // Pause video when div is out of view (optional)
                        continueBtn.style.display = "none"; // Hide button again if video is not playing
                    }
                });
            }, { threshold: 0.5 }); // Adjust threshold for when the video should start
          
            observer_tip2.observe(scenario13Div);
          });
          </script>
          
                    <script>
                          document.addEventListener("DOMContentLoaded", () => {
                           const stickyRow = document.querySelector(".sticky-row");
                           const footer = document.querySelector("#footer");
                           const targets = [document.querySelector("#scene13tips")];
                         
                           const tip_observer2 = new IntersectionObserver(
                             (entries) => {
                               let shouldHideStickyRow = false;
                               let HideFooter = false;
                         
                               // Check the visibility of each observed element
                               entries.forEach((entry) => {
                                 if (entry.isIntersecting) {
                                   shouldHideStickyRow = true;
                                   HideFooter = true;
                                 }
                               });
                         
                               // Toggle the visibility of the sticky-row based on any intersecting element
                               if (shouldHideStickyRow && HideFooter) {
                                 stickyRow.style.display = "none";
                                 footer.style.display = "none";
                               } else {
                                 stickyRow.style.display = "flex"; // Or your desired display value
                                 footer.style.display = "block";
                               }
                             },
                             { threshold: 0.2 } // Adjust the visibility threshold as needed
                           );
                         
                           // Observe each target element
                           targets.forEach((target) => {
                             if (target) {
                              tip_observer2.observe(target);
                             }
                           });
                         });
                         
                         
                         </script>


                <!--End of scenario 13-->


                   <!--Scenario 15-->


                   <div id="scenario15" class="hidden-section" style="padding-top: 20px;">

                    <br><br>
                    <h4 class="text-center" style="font-weight: normal; font-style: italic;">You’ve just been laid off from your job and you have bills to pay during this period of financial uncertainty.</h4>
                  
                    <br>
                  
                    <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>
                  
                    <div class="container">
                      <div class="row">
                          <div class="col-sm-4 hovertest" style="padding-top: 40px; margin: 5px auto;">
                            <a href="#scene15-opt1" id="scene15-link1" style="text-decoration: none; color: #000000;" class="choice-card" data-happiness="50" data-focus="50" data-credit-score="55"> 
                              <div class="card my-card2">
                             
                            <img src="./img/emergency.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
                          </div>
                        </a>
                      </div>
                  
                      <div class="col-sm-4 hovertest" style="padding-top: 40px; margin: 5px auto;">  
                        <a href="#scene15-opt2" id="scene15-link2" style="text-decoration: none; color: #000000;" class="choice-card" data-happiness="50" data-focus="50" data-credit-score="10">  
                          <div class="card my-card2">
                            
                            <img src="./img/delay.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
                            </div>
                          </a>
                          </div>
                  
                      </div>
                   </div>
                   
                  </div>
  
  
                  <div id="scene15-opt1" class="hidden-section" style="padding-top: 20px;">
  
  
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="info-container2 text-center">
                          <img src="./img/narrative.png">
                          <div class="overlay-text">
                           
                            You make a point to prioritize your financial reputation and credit score, even at the cost of cutting back on essential expenses
                
                            <div class="text-center" style="padding-top: 60px;">
                            <a href="#scenario14" id="opt-link35" class="game-button">continue</a>
                          </div>
                        </div>
                        
                    </div>
                    </div>
                  
                </div>
              
              </div>
            
              <div id="scene15-opt2" class="hidden-section" style="padding-top: 20px;">
            
            
                <div class="row">
                  <div class="col-sm-12">
                    <div class="info-container2 text-center">
                      <img src="./img/narrative.png">
                      <div class="overlay-text">
                       
                        <br><br>Deciding to let a few bills go unpaid for the next month or two, prioritizing on food and shelter. Your credit score drops more significantly. You now have multiple missed payments on your credit report.
            
                        <div class="text-center" style="padding-top: 60px;">
                        <a href="#scenario14" id="opt-link36" class="game-button">continue</a>
                      </div>
                    </div>
                    
                </div>
                </div>
              
            </div>
            
            </div>



                <!--End of scenario 15-->


                   <!--Scenario 14-->

                   <div id="scenario14" class="hidden-section"  style="padding-top: 20px;">

        
<br><br>
            <div class="phone-call">
                    <div class="row">
                      <div class="col-sm-6 text-right" id="phone-button"> 
                        <a href="#info2" id="phone-link1" class="choice-card" data-happiness="40" data-focus="40" data-credit-score="5" style="text-decoration: none; color: #000000;">
                        <img src="./img/hangup.png" class="card-img-top" id="phonebtn" style="width: 10%; height: auto; margin: 0 auto;">
                      </a>
                      </div>
                      <div class="col-sm-6 text-left" id="phone-button">
                        <a href="#info1" id="phone-link2">
                          <img src="./img/answer.png" class="card-img-top" id="phonebtn" style="width: 10%; height: auto; margin: 0 auto;">
                        </a>
                      </div>
                    </div>
                  </div>
                  
                    </div>
            
            
                    <!-- Modal 
            <div class="modal fade" id="phoneModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
              <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class="modal-content" style="background-color: transparent; border: none;">
                  <div class="modal-body" id="phone-answer">
                   
                    <div id="hangup-phone" class="text-center">
                    <a href="#info1" id="phone-link2" style="text-decoration: none; color: #000000;">
                      <img src="./img/hangup.png" class="card-img-top" id="phonebtn" data-dismiss="modal" style="width: 10%; height: auto; margin: 0 auto;">
                      </a>
                    </div>
                    </div>
                </div>
              </div>
            </div>
            -->
            
                    
                       <!-- Audio Element -->
             
            
              <audio id="phone-sound" src="./audio/telephone-ring-old-german-w48-83246.mp3" preload="auto"></audio>
            
              <audio id="phone-sound2" src="./audio/creditcall.mp3" preload="auto"></audio>
            
            
              <script>
                document.addEventListener('DOMContentLoaded', function () {
                  let observer5 = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                      if (entry.isIntersecting) {
                        var audio = document.getElementById('phone-sound');
                        if (audio) {
                          audio.play();
                        }
                        observer5.unobserve(entry.target);
                      }
                    });
                  }, { threshold: 0.1 });
            
                  let target5 = document.getElementById('scenario14');
                  if (target5) {
                    observer5.observe(target5);
                  }
                });
            
                document.addEventListener('DOMContentLoaded', function () {
  let observer6 = new IntersectionObserver(
    entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          var audio = document.getElementById('phone-sound2');
          if (audio) {
            setTimeout(() => {
              audio.play();
            }, 700); // Delay the playback by 700ms (0.7 seconds)
          }
          observer6.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.1 }
  );

  let target6 = document.getElementById('info1');
  if (target6) {
    observer6.observe(target6);
  }
});

              </script>
                     
            
            
                    <div id="info1" class="hidden-section"  style="padding-top: 20px;">

                      <div id="call-convo">
                      
                          <img src="./img/phone-convo.png" class="phone-img">
                        
                      </div>
                      
                      <br>
                    
                      <h1 class="text-center" style="font-weight:bold;">What would you do?</h1>
                    
                    
                     <div>
                            
                      <div class="text-center" id="choices-div">
                        <div id="choices-col">
                        <a href="#answer1" id="phone-link3" class="choice-card" data-happiness="70" data-focus="70" data-credit-score="70">
                         Negotiate a payment plan
                        </a>
                      </div>
                        <div id="choices-col">
                        <a href="#answer2" id="phone-link4" class="choice-card" data-happiness="40" data-focus="40" data-credit-score="5">
                          Ignore the bill payment
                         </a>
                      </div>
                    </div>
                      
                     </div>
                      
                        </div>
            
            
                    
                   <div id="info2" class="hidden-section"  style="padding-top: 20px;">
            
            
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="info-container2 text-center">
                          <img src="./img/narrative.png">
                          <div class="overlay-text">
                            
                            By ignoring the call, you are now in debt as it is legit a call from the bank for your overdue payment.

                            <div class="text-center" style="padding-top: 60px;">
                              <a href="#game-failed" id="phone-link7" class="game-button">continue</a>
                            </div>
                            </div>
                            
                        </div>
                        </div>
                      
                    </div>
                  
                  </div>
                         
                  <div id="answer1" class="hidden-section"  style="padding-top: 20px;">
            
            
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="info-container2 text-center">
                          <img src="./img/narrative.png">
                          <div class="overlay-text">
                       
                            Negotiating and paying your bill in installments can keep your account in good standing, helping to avoid any missed payments that could hurt your score.
                
                        
                            <div class="text-center" style="padding-top: 60px;">
                                <a href="#game-success" id="phone-link5" class="game-button">continue</a>
                              </div>
                            </div>
                            
                        </div>
                        </div>
                      
                    </div>
                  
                  </div>
            
                  <div id="answer2" class="hidden-section"  style="padding-top: 20px;">
            
            
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="info-container2 text-center">
                          <img src="./img/narrative.png">
                          <div class="overlay-text">
                           Ignoring the bill leads to late fees, collections, and a drop in your score due to missed payments.

                           <div class="text-center" style="padding-top: 60px;">
                            <a href="#game-failed" id="phone-link6" class="game-button">continue</a>
                          </div>
                            </div>
                            
                        </div>
                        </div>
                      
                    </div>
                  
                  </div>
            
                  <div id="game-success" class="hidden-section"  style="padding-top: 20px;">


                    <div class="row">
                      <div class="col-sm-12">
                        <div class="info-container2 text-center">
                          <img src="./img/narrative.png">
                          <div class="overlay-text">
                         
                            Nice work! You tackled every challenge,
 made smart money moves, and kept
 your credit score shining - financial victory unlocked!
            
              
                            <div class="text-center" style="padding-top: 60px;">
                              <a href="#quiz-game" id="recap-link1" class="game-button">continue</a>
                            </div>
                            
                          </div>
                        </div>
                        
                    </div>
                    </div>
                  
                </div>

                <div id="game-failed" class="hidden-section"  style="padding-top: 20px;">


                  <div class="row">
                    <div class="col-sm-12">
                      <div class="info-container2 text-center">
                        <img src="./img/narrative.png">
                        <div class="overlay-text">
                       
                          Your credit score took a hit this time, but every
 choice taught you something - gear up and try
 again to level up your financial game!
          
            
                          <div class="text-center" style="padding-top: 60px;">
                            <a href="#quiz-game" id="recap-link2" class="game-button">continue</a>
                          </div>
                          
                        </div>
                      </div>
                      
                  </div>
                  </div>
                
              </div>

<!--
              <div id="game-recap" class="hidden-section"  style="padding-top: 20px;">


                     
                <div class="row">
                  <div class="col-sm-12" id="game-intro">
                       
                        <h4 class="text-center" style="font-weight: normal;">Now that you have gone through a series of financial challenges, let's do some quizzes to recap and reflect on your decisions!</h4>
        
                        <div class="text-center" style="padding-top: 60px;">
                          <a href="#quiz-game" id="game-link4" class="game-button" data-happiness="85" data-focus="70" data-connection="85" data-credit-score="3">continue</a>
                        </div>
                      </div>
                    
                  </div>
                  
                  </div>
    -->


                <!--End of scenario 14-->


                   <!--Scenario 16-->

                   <!--
                   <div id="game-title4" class="hidden-section">
                  

                    <div class="text-center" style="padding-top: 40px;">

                          <img src="./img/quiz/quiz-title.png" style="width: 50%; height: auto;">
                          
                          <div class="text-center" style="padding-top: 130px;">
                            <a href="#quiz-game" id="game-link4" class="start-link">start!</a>
                          </div>

                        </div>
                  
                  </div>

                  -->


                  <div id="quiz-game" class="hidden-section" style="padding-top: 20px;">

                    <video id="scenario-video4" style="width: 100%; height: auto; display: block;">
                      <source src="./video/quiz.mp4" type="video/mp4">
                  </video>
                
                  
                     <!-- Add the audio element here -->
                     <audio id="game-music" loop>
                      <source src="./audio/game-music-loop-7-145285.mp3" type="audio/mpeg">
                      Your browser does not support the audio element.
                  </audio>
                  
                  <div class="row quiz-progress hide" style="padding-top: 30px;">
                    <div class="col-sm-12" style="padding: 17px;">
                      <!-- Question Progress Bar -->
                      <div id="question-progress-container" >
                        <div></div>
                        <div id="question-progress-dots">
                            <!-- These dots will update dynamically -->
                        </div>
                    </div>
                    
                  </div>
                  </div>
                     
                          
                      <main class="quiz">
                          <div id="quiz-start">
                              <div class="landing" id="start-screen" style="padding-top: 250px;">

    <!-- Continue button (hidden initially) -->
    <div id="game4" class="text-center">
      <a id="start" class="game-button" data-happiness="85" data-focus="70" data-connection="85" data-credit-score="3">continue</a>
  </div>

                              </div>
                          </div>
                  
                  
                  
                          <audio id="click-answer" src="./audio/sound-effect.mp3"></audio>
                  
                  
                          <div class="hide" id="questions">
                              <h2 id="question-words"></h2>
                              <hr>
                              <div class="options" id="options"></div>
                             
            <!-- Add this inside the #quiz-game div -->
            <a id="next-btn" class="animated-button1 hide">
              <br>
              <div class="vertical-line"></div>
              <div style="padding-top: 26px;">  <img src="./img/quiz/nextbtn.png"  style="width: 8%; height: auto; display: block; margin: 0 auto;"></div>
            
            </a>
            <div hidden>
            <h4 id="quiz-end">
              Quiz Score <span id="score-final" style="margin-left: 400px;"></span>
            </h4>
          </div>
            <div id="feedback" class="feedback hide"></div>
             </div>
                  
                  <br> <br>
                              <a href="#game-credit4" id="credit-link4" class="game-button hide">continue</a>
                       
                      </main>
                  
                  
                  </div>

                  <script>
                    document.addEventListener("DOMContentLoaded", function () {
                        const video = document.getElementById("scenario-video4");
                        const scenarioDiv = document.getElementById("quiz-game");
                        const continueBtn = document.getElementById("game4");
                        const gameLink = document.getElementById("start");
                    
                        const observergame4 = new IntersectionObserver(entries => {
                            entries.forEach(entry => {
                                if (entry.isIntersecting) {
                                    video.play(); // Play video when div is visible
                                    continueBtn.style.display = "none"; // Hide button while playing
                    
                                    // Show button when video is about to finish
                                    video.addEventListener("timeupdate", function () {
                                        if (video.currentTime >= video.duration - 2) { // 2 seconds before end
                                            continueBtn.style.display = "block";
                                        }
                                    });
                                } else {
                                    video.pause(); // Pause video when out of view
                                    continueBtn.style.display = "none"; // Hide button if video restarts
                                }
                            });
                        }, { threshold: 0.5 });
                    
                        observergame4.observe(scenarioDiv);
                    
                        // Hide video when "Continue" button is clicked
                        gameLink.addEventListener("click", function () {
                            video.style.display = "none";
                        });
                    });
                    </script>

                  
                  <script>
                    document.getElementById("start").addEventListener("click", function () {
                      // Hide the start screen
                      document.getElementById("quiz-start").classList.add("hide");
                  
                      // Show the progress bar and questions section
                      document.querySelector(".quiz-progress").classList.remove("hide");
                      document.getElementById("questions").classList.remove("hide");
                    });
                  </script>
                  
                  
                  <div id="game-credit4" class="hidden-section" style="padding-top: 20px;">

                    <div class="row">
                      <div class="col-sm-12">
                        <div class="info-container2 text-center">
                          <img src="./img/narrative.png">
                          <div class="overlay-text">

                            <br><br>Phew! Never knew that's how it is for credit score and how it works. That was a good recap to assist me on financial decision after this!
                  
                                 <div class="text-center" style="padding-top: 60px;">
                                  <a href="game-end.html" class="game-button">continue</a>
                                </div>
                              </div>
                              
                          </div>
                          </div>
                        
                      </div>
                      
                      </div>

                  
                  
                  <script>
                  
                  
                    document.addEventListener("DOMContentLoaded", () => {
                     const stickyRow = document.querySelector(".sticky-row");
                     const targets4 = [document.querySelector("#quiz-game")];
                     const footer4 = document.querySelector("#footer");
               
               const observer4 = new IntersectionObserver(
                 (entries) => {
                   let shouldHideStickyRow = false;
                   let HideFooter = false;
             
                   // Check the visibility of each observed element
                   entries.forEach((entry) => {
                     if (entry.isIntersecting) {
                       shouldHideStickyRow = true;
                       HideFooter = true;
                     }
                   });
             
                   // Toggle the visibility of the sticky-row based on any intersecting element
                   if (shouldHideStickyRow && HideFooter) {
                     stickyRow.style.display = "none";
                     footer4.style.display = "none";
                   } else {
                     stickyRow.style.display = "flex"; // Or your desired display value
                     footer4.style.display = "block";
                   }
                 },
                 { threshold: 0.2 } // Adjust the visibility threshold as needed
               );
                     // Observe each target element
                     targets4.forEach((target) => {
                       if (target) {
                         observer4.observe(target);
                       }
                     });
                   });
                   
                  
                
document.addEventListener("DOMContentLoaded", () => {
    let questions = [
      {
          prompt: "1. What is the best way to improve your credit score over time?",
          options: [
              "Opening new credit cards regularly",
              "Paying bills on time and reducing debt",
              "Applying for mortgage every year",
               "Earn more credits"
          ],
          answer: "Paying bills on time and reducing debt",
          explanation: "Consistently paying your bills on time and reducing outstanding debt are key actions to improve and maintain a healthy credit score"
      },
      {
          prompt: "2. Why is it important to regularly check your credit report?",
          options: [
              "To increase your credit score automatically",
              "To get pre-approved for loans",
              "To ensure there are no mistakes or fraud affecting your score",
              "To understand your net worth"
          ],
          answer: "To ensure there are no mistakes or fraud affecting your score" ,
          explanation: "Regularly checking your credit report allows you to spot errors or fraudulent activity that could negatively affect your credit score"
      },
      {
          prompt: "3.	Which of the following is the most important factor in determining your credit score?",
          options: [
          "Length of credit history",
              "Types of credit used",
              "Recent inquiries",
              "Payment history"
          ],
          answer: "Payment history",
          explanation: "Payment history is the most important factor, accounting for 35% of your Bureau Credit Score. Consistently making on-time payments is crucial for maintaining a good score."
      },
      {
          prompt: "Which of the following can help protect your credit score?",
          options: [
              "Making timely payments",
              "Using more than 50% of your credit limit regularly",
              "Frequently opening new credit cards",
              "Ignoring your credit report"
          ],
          answer: "Making timely payments",
          explanation: "The best way to protect and improve your credit score is to make payments on time. Timely payments have the most significant impact on your score and can keep you from falling into debt."
      }
  ]
  
      let currentQuestionIndex = 0;
      let correctAnswers = 0;
      let totalQuestions = questions.length;
      //let time = 50;
      //let timerId;
      
      let questionsEl = document.querySelector("#questions");
  let timerEl = document.querySelector("#timer");
  let choicesEl = document.querySelector("#options");
  let submitBtn = document.querySelector("#work-link6");
  let startBtn = document.querySelector("#start");
  let nameEl = document.querySelector("#name");
  let feedbackEl = document.querySelector("#feedback");
  let nextBtn = document.querySelector("#next-btn"); // Next button reference
  
      // Start the quiz
  
  document.querySelector("#start").onclick = function() {
      // Start the timer with the clockTick function running every 1000ms (1 second)
      //timerId = setInterval(clockTick, 1000);  // Timer tick every second (1000ms)
      
      // Display the initial time
      //timerEl.textContent = time;
  
      // Hide the start screen and show the question screen
      document.getElementById("start-screen").classList.add("hide");
      questionsEl.classList.remove("hide");
      
      // Get the first question
      getQuestion();
  };
  
      // Load the current question
      function getQuestion() {
          let currentQuestion = questions[currentQuestionIndex];
          document.getElementById("question-words").textContent = currentQuestion.prompt;
          choicesEl.innerHTML = "";
          currentQuestion.options.forEach(function(choice) {
              let choiceBtn = document.createElement("button");
              choiceBtn.value = choice;
              choiceBtn.textContent = choice;
              choiceBtn.onclick = questionClick;
              choicesEl.appendChild(choiceBtn);
          });
          nextBtn.classList.add("hide"); // Hide next button initially
  
   // Update question progress bar
   updateQuestionProgress();
  
      }
  
      const ansSound = document.getElementById('click-answer');
  
     // Handle question click
     function questionClick() {
      // Display feedback
      feedbackEl.classList.remove("hide");
  
      ansSound.currentTime = 0; // Reset the sound to the beginning
      ansSound.play(); // Play the answer clicking effect
  
      // Change the background color of the clicked option to green
      this.style.backgroundColor = "#206E63";
      this.style.color = "#ffffff"; 
  
      // Check if the clicked option is correct or not
      if (this.value === questions[currentQuestionIndex].answer) {
        feedbackEl.innerHTML = `Correct! <p> ${questions[currentQuestionIndex].explanation}.</p>`;
        feedbackEl.style.color = "#206E63";
feedbackEl.style.textAlign = "left"; // Aligns text to the left
console.log("Correct Answers: " + correctAnswers); // Debugging step

      } else {
        feedbackEl.innerHTML = `Wrong! The answer is: ${questions[currentQuestionIndex].answer}.<br><p> ${questions[currentQuestionIndex].explanation}.</p>`;
          feedbackEl.style.color = "#DA1F27";
          feedbackEl.style.textAlign = "left"; // Aligns text to the left
      }
  
      // Show next button
      nextBtn.classList.remove("hide");
  
      // Disable options after answer is clicked
      disableOptions();
  
      // Check if all questions have been answered
      if (currentQuestionIndex >= questions.length - 1) {
          // If this is the last question, hide the next button and end the quiz
          nextBtn.classList.add("hide");
          quizEnd();
      }
  }
  
  function disableOptions() {
      // Disable all options to prevent further clicks after answering
      const allOptions = document.querySelectorAll("#options button");
      allOptions.forEach(option => {
          option.disabled = true;
          option.style.pointerEvents = "none"; // Make the buttons unclickable
      });
  }
  
  // Move to the next question
  nextBtn.onclick = function() {
      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
          getQuestion();
          nextBtn.classList.add("hide");
          feedbackEl.classList.add("hide");
      } else {
          quizEnd(); // Ensure quiz ends immediately when last question is answered
      }
  };
  
     // Update question progress
     function updateQuestionProgress() {
      let progressDots = document.getElementById("question-progress-dots");
      progressDots.innerHTML = ""; // Clear any existing dots
  
      for (let i = 0; i < totalQuestions; i++) {
          let dot = document.createElement("div");
          dot.classList.add("dot");
  
          // Highlight active dots
          if (i <= currentQuestionIndex) {
              dot.classList.add("active");
          }
  
          progressDots.appendChild(dot);
      }
  }
  
  /*
  // Timer function
  function clockTick() {
      // Decrease the time by 1 each tick
      time--;
      timerEl.textContent = time;  // Update the timer display
  
      // If the time is up, end the quiz
      if (time <= 0) {
        nextBtn.classList.add("hide");
          quizEnd();
      }
  }
  */
  
  // End the quiz
  function quizEnd() {
  
    const backgroundMusic = document.getElementById("game-music");
    fadeOutMusic(backgroundMusic, 2000); // Fade out over 2 
  
      //clearInterval(timerId); // Stop the timer
      //console.log("Quiz has ended");
  
      // Alert the user with the final score
      //alert(`Quiz Over! You got ${correctAnswers} out of ${questions.length} correct.`);
  
      // Show the final score and quiz end message
      document.getElementById("quiz-end").classList.remove("hide");
      document.getElementById("credit-link4").classList.remove("hide");
  
      // Debugging step: Check the final score
      console.log("Final score: " + correctAnswers);
  
      // Update the score
      document.getElementById("score-final").textContent = correctAnswers; // Show score based on correct answers
  }
  
  
  function fadeOutMusic(audio, duration) {
      const fadeOutInterval = 50;
      const fadeOutSteps = duration / fadeOutInterval;
      let currentVolume = audio.volume;
      const volumeDecrement = currentVolume / fadeOutSteps;
    
      const fadeOut = setInterval(() => {
        if (currentVolume > 0) {
          currentVolume -= volumeDecrement;
          audio.volume = Math.max(0, currentVolume);
        } else {
          clearInterval(fadeOut);
          audio.pause();
          audio.currentTime = 0;
        }
      }, fadeOutInterval);
    }
  
  
  });
                  </script>
                  
                  

                <!--End of scenario 16-->

  

    </section> <!--section-->

</div> <!-- col-sm-8 -->

<div class="col-sm-2 text-left visible-section" id="factormeter">
  <aside style="padding-top: 60px;">
<div class="container text-left" >
    <div class="circular-progress-container">
      <div class="circular-progress" data-progress="50">
        <div class="inner-circle">
          <span class="percentage" hidden>50%</span>
          <img src="./img/happiness.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
          <span class="tooltip">HAPPINESS: Reduce financial stress,<br>making it easier to manage<br>expenses and enjoy life’s comforts</span>
        </div>
        <div class="outer-ring"></div>
      </div>
      <img src="./img/factor-up.png" class="factor-up-image">
    </div>
 
    <div class="circular-progress-container">
      <div class="circular-progress" data-progress="50">
        <div class="inner-circle">
          <span class="percentage" hidden>50%</span>
          <img src="./img/focus.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
          <span class="tooltip">GOALS: Enabling opportunities like<br>homeownership or education, helping loved<br>ones
            move forward with their ambitions</span>
        </div>
        <div class="outer-ring"></div>
      </div>
      <img src="./img/factor-up.png" class="factor-up-image">
    </div>
 
    <div class="circular-progress-container">
      <div class="circular-progress" data-progress="50">
        <div class="inner-circle">
          <span class="percentage" hidden>50%</span>
          <img src="./img/relationship.png" class="card-img-top" style="width: 90%; height: auto; margin: 0 auto;">
          <span class="tooltip">RELATIONSHIP: Foster trust and open<br>
            communication about finances and<br>
            work together toward shared financial goals</span>
        </div>
        <div class="outer-ring"></div>
      </div>
      <img src="./img/factor-up.png" class="factor-up-image">
    </div>
 
      </div>
  </aside>
</div> <!-- col-sm-2 -->

</div><!--container fluid row-->


<!--
<div id="footer">

  <div class="text-center" style="display: flex; gap: 80px; justify-content: center;">
    
    <a href="" id="" data-toggle="modal" data-target="#aboutgame" class="start-link">
      About this game
    </a>
    <a href="" id="" data-toggle="modal" data-target="#contactus" class="start-link">
      Contact Us
    </a>
  </div>


</div>
-->

<div class="modal fade" id="aboutgame" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">About this game</h5>
        <a type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </a>
      </div>
      <div class="modal-body">
      Financial awareness game

      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="contactus" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Contact Us</h5>
        <a type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </a>
      </div>
      <div class="modal-body">
Contact us at this email or number
      </div>
    </div>
  </div>
</div>

<br>

<script>

document.querySelectorAll('.circular-progress-container').forEach(function(container) {
  container.addEventListener('touchstart', function() {
    container.classList.toggle('touch');
  });

  // Optional: Remove 'touch' class after touch ends
  container.addEventListener('touchend', function() {
    container.classList.remove('touch');
  });
});

  ///////////////////////////////////////////////////////////////



  document.getElementById('scene3-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene3-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario3');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene3-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene3-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario3');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene3a-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene3a');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene3-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene3a-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene3a');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene3-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

/*
  document.getElementById('tipslink1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene3tips');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene3a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });
*/

  document.getElementById('optlink9').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario4');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene3a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('optlink10').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario8');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene3-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    
    
    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  ///////////////////////////////////////////////////////


  document.getElementById('scene4-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene4-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario4');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene4-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene4-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario4');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('optlink11').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario8');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene4-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
    
    
    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('optlink12').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario8');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene4-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
    
    
    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

/*
  document.getElementById('optlink13').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario8');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene4tips');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });
  */

/////////////////////////////////////////////////////////

/*
document.getElementById('title-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('game-title1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario8');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var targetSection = document.getElementById('creditmeter');
    targetSection.classList.remove('visible-section');
    targetSection.classList.add('hidden-section');

    var targetSection = document.getElementById('factormeter');
    targetSection.classList.remove('visible-section');
    targetSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });
  */

  document.getElementById('game-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('vacation-game');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario8');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });

        
      // Play background music when family quiz is visible
      const backgroundMusic = document.getElementById('game-music');
      backgroundMusic.play();

  });


  const dragSound = document.getElementById('drag-sound');
const dropSound = document.getElementById('drop-sound');

function allowDrop(ev) {
  ev.preventDefault();
}

function drag(ev) {
  ev.dataTransfer.setData("text", ev.target.id);
  dragSound.currentTime = 0;
  dragSound.play();
}

function drop(ev) {
  dropSound.currentTime = 0;
  dropSound.play();

  ev.preventDefault();
  const data = ev.dataTransfer.getData("text");
  const draggedItem = document.getElementById(data);
  const targetContainer = ev.target.closest("div");

  if (isCorrectMatch(draggedItem, targetContainer)) {
    placeItemCorrectly(draggedItem, targetContainer);
  } else {
    targetContainer.style.borderColor = "#DA1F27";
    const originalParent = draggedItem.closest(".item-box");
    originalParent.appendChild(draggedItem);
  }

  checkCompletion();
}

function isCorrectMatch(item, container) {
  return (
    (item.classList.contains("italy") && container.id === "location1") ||
    (item.classList.contains("dubai") && container.id === "location2") ||
    (item.classList.contains("france") && container.id === "location3") ||
    (item.classList.contains("singapore") && container.id === "location4") ||
    (item.classList.contains("japan") && container.id === "location5") ||
    (item.classList.contains("india") && container.id === "location6") ||
    (item.classList.contains("egypt") && container.id === "location7")
  );
}

function placeItemCorrectly(item, container) {
  container.appendChild(item);
  container.style.borderColor = "#206E63";
  container.style.backgroundColor = "whitesmoke";
  container.style.transition = "background-color 0.3s, border-color 0.3s";
  item.style.width = "80%";
  item.style.height = "auto";
}

function checkCompletion() {
  const correctMatches = [
    { location: "location1", class: "italy" },
    { location: "location2", class: "dubai" },
    { location: "location3", class: "france" },
    { location: "location4", class: "singapore" },
    { location: "location5", class: "japan" },
    { location: "location6", class: "india" },
    { location: "location7", class: "egypt" }
  ];

  const allCorrect = correctMatches.every(match => {
    const locationElement = document.getElementById(match.location);
    const draggedItem = locationElement.querySelector(`img.${match.class}`);
    return draggedItem !== null;
  });

  if (allCorrect) {
    const backgroundMusic = document.getElementById("game-music");
    fadeOutMusic(backgroundMusic, 2000);
    showModal();
  }
}

// 🌟 TOUCH SUPPORT 🌟
let currentTouchItem = null;
let originalTouchParent = null;

document.querySelectorAll('.imgs').forEach(item => {
  item.addEventListener('touchstart', handleTouchStart, false);
  item.addEventListener('touchmove', handleTouchMove, false);
  item.addEventListener('touchend', handleTouchEnd, false);
});

function handleTouchStart(e) {
  currentTouchItem = e.target;
  originalTouchParent = currentTouchItem.parentElement;

  currentTouchItem.style.position = 'fixed';
  currentTouchItem.style.zIndex = '1000';
  currentTouchItem.style.pointerEvents = 'none'; // Prevent touch interference

  dragSound.currentTime = 0;
  dragSound.play();
}

function handleTouchMove(e) {
  if (!currentTouchItem) return;

  const touch = e.touches[0];
  e.preventDefault();

  currentTouchItem.style.left = touch.pageX - currentTouchItem.offsetWidth / 2 + 'px';
  currentTouchItem.style.top = touch.pageY - currentTouchItem.offsetHeight / 2 + 'px';
}

function handleTouchEnd(e) {
  if (!currentTouchItem) return;

  const touch = e.changedTouches[0];
  const dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);
  const dropContainer = dropTarget?.closest('.location');

  // Reset styles
  currentTouchItem.style.position = '';
  currentTouchItem.style.zIndex = '';
  currentTouchItem.style.pointerEvents = '';
  currentTouchItem.style.left = '';
  currentTouchItem.style.top = '';

  const draggedItem = currentTouchItem;

  if (dropContainer) {
    if (isCorrectMatch(draggedItem, dropContainer)) {
      placeItemCorrectly(draggedItem, dropContainer);
      dropSound.currentTime = 0;
      dropSound.play();
    } else {
      dropContainer.style.borderColor = "#DA1F27";
      originalTouchParent.appendChild(draggedItem);
    }
  } else {
    originalTouchParent.appendChild(draggedItem);
  }

  currentTouchItem = null;
  originalTouchParent = null;

  checkCompletion();
}

function fadeOutMusic(audio, duration) {
  const fadeOutInterval = 50;
  const fadeOutSteps = duration / fadeOutInterval;
  let currentVolume = audio.volume;
  const volumeDecrement = currentVolume / fadeOutSteps;

  const fadeOut = setInterval(() => {
    if (currentVolume > 0) {
      currentVolume -= volumeDecrement;
      audio.volume = Math.max(0, currentVolume);
    } else {
      clearInterval(fadeOut);
      audio.pause();
      audio.currentTime = 0;
    }
  }, fadeOutInterval);
}

function showModal() {
  const modal = new bootstrap.Modal(document.getElementById("gamemodal"));
  modal.show();
}

function closeModal() {
  const modal = bootstrap.Modal.getInstance(document.getElementById("gamemodal"));
  if (modal) {
    modal.hide();
  }
}

  document.getElementById('credit-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('game-credit1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('vacation-game');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene8alink').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene8a');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('game-credit1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
     
    var targetSection = document.getElementById('creditmeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');

    var targetSection = document.getElementById('factormeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');

  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene8a-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene8a-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene8a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene8a-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene8a-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene8a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('optlink14').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario5');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene8a-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    
    
    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('optlink15').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario5');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene8a-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    
    
    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  /////////////////////////////////////////////////////////

/*
  document.getElementById('title-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('game-title2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario5');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });
  */

  document.getElementById('game-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('wedding-game');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario5');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');


  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });

   
      // Play background music when family quiz is visible
      const backgroundMusic2 = document.getElementById('game-music2');
      backgroundMusic2.play();


  });


  document.getElementById('credit-link2a').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('game-credit2a');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('wedding-game');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('credit-link2b').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('game-credit2b');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('wedding-game');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene5a-modest').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene5a');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('game-credit2a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var targetSection = document.getElementById('creditmeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');

    var targetSection = document.getElementById('factormeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene5a-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene5a-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene5a-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene5a-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene5a-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene5a-opt3');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link38').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario11');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5a-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link39').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario11');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5a-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link40').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario11');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5a-opt3');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });



  document.getElementById('scene5b-dream').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene5b');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('game-credit2b');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var targetSection = document.getElementById('creditmeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');

    var targetSection = document.getElementById('factormeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene5b-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene5b-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5b');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene5b-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene5b-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5b');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene5b-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene5b-opt3');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5b');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link41').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario11');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5b-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link42').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario11');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5b-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link43').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario11');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene5b-opt3');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  ///////////////////////////////////////////////////////

/*
  document.getElementById('scene11link').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario11');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('game-credit2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    
    var targetSection = document.getElementById('creditmeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');

    var targetSection = document.getElementById('factormeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });
*/


  document.getElementById('scene11-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene11-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario11');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene11-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene11-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario11');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene11-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene11-opt3');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario11');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link16').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario12');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene11-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link17').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario6');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene11-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link18').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario12');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene11-opt3');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  /////////////////////////////////////////////////////////


  document.getElementById('scene6-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene6-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario6');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene6-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene6-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario6');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene6-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene6-opt3');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario6');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link19').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario9');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene6-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link20').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario9');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene6-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link21').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario9');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene6-opt3');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  /////////////////////////////////////////////////////////


  document.getElementById('scene12-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene12-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario12');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene12-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene12-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario12');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link22').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario9');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene12-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
    

   var hideSection = document.getElementById('creditmeter');
   hideSection.classList.remove('visible-section');
   hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link23').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario9');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene12-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
    

   var hideSection = document.getElementById('creditmeter');
   hideSection.classList.remove('visible-section');
   hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

////////////////////////////////////////////////////////////////////


/*
document.getElementById('title-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('game-title3');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario9');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });
  */

  document.getElementById('game-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
   
    var hideSection = document.getElementById('scenario9');
    hideSection.classList.add('fade-out');

    // Once the fade-out transition is complete, proceed to reveal the target section
    hideSection.addEventListener('transitionend', function onTransitionEnd() {
        // Remove event listener to avoid multiple triggers
        hideSection.removeEventListener('transitionend', onTransitionEnd);

   // Reveal the section
   var targetSection = document.getElementById('business-game');
   targetSection.classList.remove('hidden-section');
   targetSection.classList.add('visible-section');
  
   hideSection.classList.remove('visible-section');
   hideSection.classList.add('hidden-section');

  
         // Play background music when family quiz is visible
         const backgroundMusic3 = document.getElementById('game-music3');
         backgroundMusic3.play();
         targetSection.scrollIntoView({ behavior: 'smooth' });
     }, { once: true });
 });
 

  const hiddenItems1 = {
    1: './img/business-game/after (1).png',
    2: './img/business-game/after (2).png',
    3: './img/business-game/after (3).png',
    4: './img/business-game/after (4).png',
    5: './img/business-game/after (5).png',
    6: './img/business-game/after (6).png',
    7: './img/business-game/after (7).png',
    8: './img/business-game/after (8).png',
    9: './img/business-game/after (9).png',
    10: './img/business-game/after (10).png',
    11: './img/business-game/after (11).png',
    12: './img/business-game/after (12).png'
};

let foundCount1 = 0;
let maxItems = 5; // Maximum items to be found
const clickSound = document.getElementById('click-sound'); // Select the sound effect
const audioElement = document.getElementById('game-music3'); // Select the game music

function fadeOutAudio(duration) {
    let volume = audioElement.volume;
    const fadeOutInterval = 50; // milliseconds
    const fadeOutStep = volume / (duration / fadeOutInterval);

    const fadeOut = setInterval(() => {
        if (volume > 0) {
            volume -= fadeOutStep;
            if (volume < 0) volume = 0; // Prevent going below 0
            audioElement.volume = volume;
        } else {
            clearInterval(fadeOut);
            audioElement.pause(); // Pause the audio after fading out
        }
    }, fadeOutInterval);
}

function checkItem1(itemNumber) {
    if (foundCount1 >= maxItems) return;

    // Play click sound
    clickSound.currentTime = 0;
    clickSound.play();

    const imgElement = document.querySelector(`img[data-item1="${itemNumber}"]`);

    if (hiddenItems1[itemNumber]) {
        foundCount1++;

        // Disable further clicks
        imgElement.onclick = null;

        // Directly change the image source
        imgElement.src = hiddenItems1[itemNumber];

        // Show result if max items found
        if (foundCount1 === maxItems) {
            setTimeout(() => {
                showModal2();
                fadeOutAudio(2000);
            }, 700);
        }
    }
}

function showModal2() {
    const modal = new bootstrap.Modal(document.getElementById("gameresult"));
    modal.show();
  }

  function closeModal2() {
    const modal = bootstrap.Modal.getInstance(document.getElementById("gameresult"));
    if (modal) {
      modal.hide();
    }
  }


  document.getElementById('credit-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('game-credit3');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('business-game');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });



  document.getElementById('scene9alink').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene9a');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('game-credit3');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    
   var targetSection = document.getElementById('creditmeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');

    var targetSection = document.getElementById('factormeter');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  
  document.getElementById('scene9a-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene9a-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene9a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene9a-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene9a-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene9a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene9a-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene9a-opt3');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene9a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene9a-link4').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene9a-opt4');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene9a');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link24').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario10');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene9a-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link25').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario10');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene9a-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link26').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario10');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene9a-opt3');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link27').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario10');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene9a-opt4');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  ///////////////////////////////////////////////////////


  document.getElementById('scene10link').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene10');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario10');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('scene10-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene10-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene10');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene10-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene10-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene10');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link28').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene10tips');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene10-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
   hideSection.classList.remove('visible-section');
   hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link29').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene10tips');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene10-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
   hideSection.classList.remove('visible-section');
   hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('tip10-link').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario7');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene10tips');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
   hideSection.classList.remove('hidden-section');
   hideSection.classList.add('visible-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('hidden-section');
    hideSection.classList.add('visible-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  ///////////////////////////////////////////////////////

  document.getElementById('scene7-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene7-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario7');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene7-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene7-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario7');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link30').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario13');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene7-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link31').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario13');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene7-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  /////////////////////////////////////////////////////////

  document.getElementById('scene13-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene13-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario13');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene13-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene13-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario13');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene13-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene13-opt3');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario13');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link32').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene13tips');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene13-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link33').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene13tips');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene13-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link34').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene13tips');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene13-opt3');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('tip13-link').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario15');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene13tips');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('creditmeter');
    hideSection.classList.remove('hidden-section');
    hideSection.classList.add('visible-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('hidden-section');
    hideSection.classList.add('visible-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  ///////////////////////////////////////////////////////

  document.getElementById('scene15-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene15-opt1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario15');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('scene15-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scene15-opt2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario15');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('opt-link35').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario14');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene15-opt1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('opt-link36').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario14');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene15-opt2');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });

/*
  document.getElementById('opt-link37').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('scenario14');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scene15tips');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });
*/

  /////////////////////////////////////////////////////////
  

  document.getElementById('phone-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior

        // Reveal the section
        var targetSection = document.getElementById('info2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario14');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
         // Scroll to the section
         targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  
  document.getElementById('phone-link7').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior

    var hideSection = document.getElementById('info2');
    hideSection.classList.add('fade-out');

// Once the fade-out transition is complete, proceed to reveal the target section
hideSection.addEventListener('transitionend', function onTransitionEnd() {
    // Remove event listener to avoid multiple triggers
    hideSection.removeEventListener('transitionend', onTransitionEnd);

    // Reveal the section
    var targetSection = document.getElementById('game-failed');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
          // Scroll to the section
          targetSection.scrollIntoView({ behavior: 'smooth' });
    }, { once: true }); // Ensures the event listener is only invoked once
  });
  

  document.getElementById('phone-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
 
    
    // Reveal the section
    var targetSection = document.getElementById('info1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('scenario14');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
            // Scroll to the section
            targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('phone-link3').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('answer1');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('info1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
          // Scroll to the section
          targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('phone-link4').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('answer2');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('info1');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
          // Scroll to the section
          targetSection.scrollIntoView({ behavior: 'smooth' });
  });


  document.getElementById('phone-link5').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior

    var hideSection = document.getElementById('answer1');
    hideSection.classList.add('fade-out');

// Once the fade-out transition is complete, proceed to reveal the target section
hideSection.addEventListener('transitionend', function onTransitionEnd() {
    // Remove event listener to avoid multiple triggers
    hideSection.removeEventListener('transitionend', onTransitionEnd);

    // Reveal the section
    var targetSection = document.getElementById('game-success');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
          // Scroll to the section
          targetSection.scrollIntoView({ behavior: 'smooth' });
    }, { once: true }); // Ensures the event listener is only invoked once
  });

  document.getElementById('phone-link6').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior

    var hideSection = document.getElementById('answer2');
    hideSection.classList.add('fade-out');

// Once the fade-out transition is complete, proceed to reveal the target section
hideSection.addEventListener('transitionend', function onTransitionEnd() {
    // Remove event listener to avoid multiple triggers
    hideSection.removeEventListener('transitionend', onTransitionEnd);

    // Reveal the section
    var targetSection = document.getElementById('game-failed');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
          // Scroll to the section
          targetSection.scrollIntoView({ behavior: 'smooth' });
    }, { once: true }); // Ensures the event listener is only invoked once
  });


  document.getElementById('recap-link1').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('quiz-game');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('game-success');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    
   var hideSection = document.getElementById('creditmeter');
   hideSection.classList.remove('visible-section');
   hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Play background music when family quiz is visible
        const backgroundMusic = document.getElementById('game-music');
         backgroundMusic.play();
          // Scroll to the section
          targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  document.getElementById('recap-link2').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('quiz-game');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('game-failed');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');

    
   var hideSection = document.getElementById('creditmeter');
   hideSection.classList.remove('visible-section');
   hideSection.classList.add('hidden-section');

    var hideSection = document.getElementById('factormeter');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
 
      // Play background music when family quiz is visible
      const backgroundMusic = document.getElementById('game-music');
         backgroundMusic.play();
          // Scroll to the section
          targetSection.scrollIntoView({ behavior: 'smooth' });
  });

  //////////////////////////////////////////////////

/*
  document.getElementById('quiz-link').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('game-title4');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('game-recap');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');


    var targetSection = document.getElementById('creditmeter');
    targetSection.classList.remove('visible-section');
    targetSection.classList.add('hidden-section');

    var targetSection = document.getElementById('factormeter');
    targetSection.classList.remove('visible-section');
    targetSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });
  */

  /*
  document.getElementById('game-link4').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
   
    var hideSection = document.getElementById('game-recap');
    hideSection.classList.add('fade-out');

    // Once the fade-out transition is complete, proceed to reveal the target section
    hideSection.addEventListener('transitionend', function onTransitionEnd() {
        // Remove event listener to avoid multiple triggers
        hideSection.removeEventListener('transitionend', onTransitionEnd);

   // Reveal the section
   var targetSection = document.getElementById('quiz-game');
   targetSection.classList.remove('hidden-section');
   targetSection.classList.add('visible-section');
  
   hideSection.classList.remove('visible-section');
   hideSection.classList.add('hidden-section');


  
         // Play background music when family quiz is visible
         const backgroundMusic = document.getElementById('game-music');
         backgroundMusic.play();
         targetSection.scrollIntoView({ behavior: 'smooth' });
     }, { once: true });
 });
*/

 document.getElementById('credit-link4').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor link behavior
  
    
    // Reveal the section
    var targetSection = document.getElementById('game-credit4');
    targetSection.classList.remove('hidden-section');
    targetSection.classList.add('visible-section');
  
    var hideSection = document.getElementById('quiz-game');
    hideSection.classList.remove('visible-section');
    hideSection.classList.add('hidden-section');
  
        // Scroll to the section
        targetSection.scrollIntoView({ behavior: 'smooth' });
  });
 


/////////////////////////////////////////////////////////////
 

// Initialize progress on page load
document.addEventListener('DOMContentLoaded', () => {
    // Delay to ensure images are loaded
    setTimeout(initProgress, 100);
});


function updateCircularProgress(element, newValue) {
    const previousValue = parseInt(element.getAttribute('data-progress'), 10); // Get the previous progress value
    element.setAttribute('data-progress', newValue);
    
    // Update the percentage text
    const percentageElement = element.querySelector('.inner-circle .percentage');
    if (percentageElement) {
        percentageElement.innerHTML = `${newValue}%`;
        percentageElement.hidden = true; // Keep the percentage hidden
    }
    
    // Update the circular progress background
    const outerRing = element.querySelector('.outer-ring');
    if (outerRing) {
        outerRing.style.background = `conic-gradient(#D4C029 0% ${newValue}%, #FCF8EA ${newValue}% 100%)`;
    }

    // Update the arrow image based on value change
    const arrowImage = element.parentElement.querySelector('.factor-up-image');
    if (arrowImage) {
        if (newValue > previousValue) {
            arrowImage.src = './img/factor-up.png'; // Change to the upward arrow image
        } else if (newValue < previousValue) {
            arrowImage.src = './img/factor-down.png'; // Change to the downward arrow image;
        } else {
            // If values are the same, hide the arrow and return early
            arrowImage.classList.add('hidden');
            return;
        }

        // Remove existing classes to reset animation
        arrowImage.classList.remove('visible', 'hidden');
        void arrowImage.offsetWidth; // Force reflow (reset animation)

        // Make the image visible
        arrowImage.classList.add('visible');

        // Hide the image after a brief delay
        setTimeout(() => {
            arrowImage.classList.remove('visible');
            arrowImage.classList.add('hidden');
        }, 1000); // 1-second visibility duration
    }
}


 // Function to update circular progress and arrow
 const minValue = 1;
const maxValue = 100;


function updateCreditArrow() {
    const container = document.querySelector('.credit-score-container');
    const arrowElement = document.querySelector('.creditarrow-img');
    const overlayElement = document.querySelector('.opacity-overlay');
    
    if (!container || !arrowElement || !overlayElement) {
        console.error('Container, arrow element, or overlay element not found');
        return;
    }

    const containerHeight = container.clientHeight;
    const arrowHeight = arrowElement.clientHeight;
    
    // Ensure valid dimensions
    if (containerHeight === 0 || arrowHeight === 0) {
        console.error('Invalid container or arrow height');
        return;
    }

    // Retrieve the credit score from the data-progress attribute
    const creditScore = parseInt(container.getAttribute('data-progress'), 10);
    if (isNaN(creditScore)) {
        console.error('Invalid credit score');
        return;
    }

    // Calculate the position percentage
    const positionPercentage = ((creditScore - minValue) / (maxValue - minValue)) * 100;
    if (positionPercentage < 0 || positionPercentage > 100) {
        console.error('Position percentage out of bounds');
        return;
    }

    // Calculate the top position of the arrow
    const arrowTop = (containerHeight - arrowHeight) * (1 - positionPercentage / 100);
    arrowElement.style.top = `${Math.max(0, Math.min(arrowTop, containerHeight - arrowHeight))}px`;

    // Adjust the gradient stop position based on the arrow's top position
    const gradientPosition = ((arrowTop + 6) / containerHeight) * 100;
    overlayElement.style.background = `linear-gradient(to bottom, rgba(243, 241, 241, 0.315) ${gradientPosition}%, rgba(0, 0, 0, 0) ${gradientPosition}%)`;
    
    // Ensure the overlay covers the entire container to account for possible gradient overflow
    overlayElement.style.height = `${containerHeight}px`;
}

// Initialize the credit arrow and overlay gradient based on the initial data-progress value
function initProgress() {
    document.querySelectorAll('.circular-progress').forEach(progress => {
        const initialValue = parseInt(progress.getAttribute('data-progress'), 10);
        if (!isNaN(initialValue)) {
            updateCircularProgress(progress, initialValue); // Set the initial progress value
        }
    });

    updateCreditArrow(); // Initialize the credit arrow with the existing data-progress value
}
// Add event listeners to choice cards
document.querySelectorAll('.choice-card').forEach(card => {
    card.addEventListener('click', function(event) {
        event.preventDefault();

        // Get the progress values from the data attributes
        const happiness = this.getAttribute('data-happiness');
        const focus = this.getAttribute('data-focus');
        const connection = this.getAttribute('data-connection');
        const creditScore = this.getAttribute('data-credit-score');

        // Update the circular progress elements and arrows
        document.querySelectorAll('.circular-progress').forEach((progress, index) => {
            const value = [happiness, focus, connection][index];
            if (value) {
                updateCircularProgress(progress, value);
            }
        });

        // Update the credit arrow
        const container = document.querySelector('.credit-score-container');
        if (container) {
            container.setAttribute('data-progress', creditScore);
            updateCreditArrow();
        }

        // Navigate to the target section
        const targetSection = document.querySelector(this.getAttribute('href'));
        if (targetSection) {
            targetSection.classList.remove('hidden-section');
            targetSection.classList.add('visible-section');
            targetSection.scrollIntoView({ behavior: 'smooth' });

            // Animate the arrow in the target section
            const arrow = targetSection.querySelector('.arrow');
            if (arrow) {
                animateArrow(arrow);
            }
        }
    });
});




</script>




 <!-- JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script>


 
</body>
</html>
